/*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2017, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017, Akamai Technologies, Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* Boomerang Version: 1.737.20 2a2100df1b53afe0d7b2fa2b8918deb614f87015 */

BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(t){BOOMR.isCrossOriginError(t)||BOOMR.addError(t,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(e&&-1!==e.indexOf(".")&&window.parent){try{window.parent.document;return}catch(t){try{document.domain=e}catch(r){return}}try{window.parent.document;return}catch(t){e=e.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(e)}}}BOOMR_check_doc_domain();!function(l){var u,t,a,o,s,e,c,r=l;l.parent!==l&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(l=l.parent);a=l.document;l.BOOMR||(l.BOOMR={});BOOMR=l.BOOMR;if(!BOOMR.version){BOOMR.version="1.737.20";BOOMR.window=l;BOOMR.boomerang_frame=r;BOOMR.plugins||(BOOMR.plugins={});!function(){try{new l.CustomEvent("CustomEvent")!==undefined&&(o=function(e,t){return new l.CustomEvent(e,t)})}catch(e){}try{!o&&a.createEvent&&a.createEvent("CustomEvent")&&(o=function(e,t){var r=a.createEvent("CustomEvent");r.initCustomEvent(e,(t=t||{cancelable:!1,bubbles:!1}).bubbles,t.cancelable,t.detail);return r})}catch(e){}o=(o=!o&&a.createEventObject?function(e,t){var r=a.createEventObject();r.type=r.propertyName=e;r.detail=t.detail;return r}:o)||function(){return undefined}}();s=function(e,t,r){var n=o(e,{detail:t});n&&(r?BOOMR.setImmediate(i):i());function i(){try{a.dispatchEvent?a.dispatchEvent(n):a.fireEvent&&a.fireEvent("onpropertychange",n)}catch(e){}}};if("undefined"!=typeof a.hidden){e="visibilityState";c="visibilitychange"}else if("undefined"!=typeof a.mozHidden){e="mozVisibilityState";c="mozvisibilitychange"}else if("undefined"!=typeof a.msHidden){e="msVisibilityState";c="msvisibilitychange"}else if("undefined"!=typeof a.webkitHidden){e="webkitVisibilityState";c="webkitvisibilitychange"}u={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:["^//[a-z0-9]+\\.akstat\\.io/?$"],beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:l.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,same_site_cookie:"Lax",secure_cookie:!1,forced_same_site_cookie_none:!1,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[],before_early_beacon:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(r){return function(e){var t;(e=e||l.event).target?t=e.target:e.srcElement&&(t=e.srcElement);(t=3===t.nodeType?t.parentNode:t)&&t.nodeName&&"OBJECT"===t.nodeName.toUpperCase()&&"application/x-shockwave-flash"===t.type||u.fireEvent(r,t)}},clearEvents:function(){for(var e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){for(var e in u.listenerCallbacks)if(u.listenerCallbacks.hasOwnProperty(e))for(;u.listenerCallbacks[e].length;)BOOMR.utils.removeListener(u.listenerCallbacks[e][0].el,e,u.listenerCallbacks[e][0].fn);u.listenerCallbacks={}},fireEvent:function(e,t){var r,n,i,o;e=e.toLowerCase();this.translate_events[e]&&(e=this.translate_events[e]);if(this.events.hasOwnProperty(e)){this.public_events.hasOwnProperty(e)&&s(this.public_events[e],t);i=this.events[e];"before_beacon"!==e&&"beacon"!==e&&"before_early_beacon"!==e&&BOOMR.real_sendBeacon();o=i.length;for(r=0;r<o;r++)try{(n=i[r]).fn.call(n.scope,t,n.cb_data)}catch(a){BOOMR.addError(a,"fireEvent."+e+"<"+r+">")}for(r=0;r<o;r++)if(i[r].once){i.splice(r,1);o--;r--}}},spaNavigation:function(){u.onloadfired=!0},beaconUrlAllowed:function(e){if(!u.beacon_urls_allowed||0===u.beacon_urls_allowed.length)return!0;for(var t=0;t<u.beacon_urls_allowed.length;t++)if(new RegExp(u.beacon_urls_allowed[t]).exec(e))return!0;return!1},checkLocalStorageSupport:function(){var e=u.LOCAL_STORAGE_PREFIX+"clss";u.localStorageSupported=!1;try{if(!l.JSON||!l.localStorage)return;l.localStorage.setItem(e,e);u.localStorageSupported=l.localStorage.getItem(e)===e;l.localStorage.removeItem(e)}catch(t){u.localStorageSupported=!1}},onFrameUnloaded:function(){var e,t;BOOMR.isUnloaded=!0;for(e=0;e<u.nativeOverwrites.length;e++)(t=u.nativeOverwrites[e]).obj[t.functionName]=t.origFn;u.nativeOverwrites=[]}};t={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,cookies:{},testedCookies:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},session:{domain:u.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!l.postMessage||"function"!=typeof l.postMessage&&"object"!=typeof l.postMessage)},objectToString:function(e,t,r){var n,i=[];if(!e||"object"!=typeof e)return e;t===undefined&&(t="\n\t");r=r||0;if(BOOMR.utils.isArray(e)){for(n=0;n<e.length;n++)0<r&&null!==e[n]&&"object"==typeof e[n]?i.push(this.objectToString(e[n],t+("\n\t"===t?"\t":""),r-1)):"&"===t?i.push(encodeURIComponent(e[n])):i.push(e[n]);t=","}else for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(0<r&&null!==e[n]&&"object"==typeof e[n]?i.push(encodeURIComponent(n)+"="+this.objectToString(e[n],t+("\n\t"===t?"\t":""),r-1)):"&"===t?i.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n])):i.push(n+"="+e[n]));return i.join(t)},getCookie:function(e){var t;if(!e)return null;if("undefined"!=typeof BOOMR.cookies[e])return!1===BOOMR.cookies[e]?undefined:BOOMR.cookies[e];if(void 0===(t=this.getRawCookie(e))){BOOMR.cookies[e]=!1;return undefined}BOOMR.cookies[e]=t;return BOOMR.cookies[e]},getRawCookie:function(e){if(!e)return null;var t,r=" "+a.cookie+";";if(0<=(t=r.indexOf(e=" "+e+"="))){t+=e.length;return r.substring(t,r.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")}},setCookie:function(e,t,r){var n,i;if(!e||!BOOMR.session.domain||void 0===t){BOOMR.addVar("nocookie",1);return!1}if((n=this.objectToString(t,"&"))===BOOMR.cookies[e])return!0;if((i=e+'="'+n+'"').length<500){t=[i,"path=/","domain="+BOOMR.session.domain];if("number"==typeof r){(o=new Date).setTime(o.getTime()+1e3*r);o=o.toGMTString();t.push("expires="+o)}var o=this.getSameSiteAttributeParts();"https:"===location.protocol&&!0===u.secure_cookie&&-1===o.indexOf("Secure")&&o.push("Secure");t=t.concat(o);a.cookie=t.join("; ");if(BOOMR.testedCookies){BOOMR.cookies[e]="number"!=typeof r||0<r?n:undefined;return!0}BOOMR.cookies[e]=undefined;if(n===(t=this.getRawCookie(e))||void 0===t&&"number"==typeof r&&r<=0){BOOMR.cookies[e]=n;BOOMR.testedCookies=!0;BOOMR.removeVar("nocookie");return!0}BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+n+"\n"+t)}else BOOMR.warn("Cookie too long: "+i.length+" "+i);BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(e){var t,r,n,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return null;for(r=0,n=(t=e.split("&")).length;r<n;r++)if((i=t[r].split("="))[0]){i.push("");a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]);o=!0}return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},getSameSiteAttributeParts:function(){var e=u.same_site_cookie.toUpperCase();return"LAX"===(e=u.forced_same_site_cookie_none?"NONE":e)?["SameSite=Lax"]:"NONE"===e?"https:"===location.protocol&&this.isCurrentUASameSiteNoneCompatible()?["SameSite=None","Secure"]:[]:"STRICT"===e?["SameSite=Strict"]:["SameSite=Lax"]},getLocalStorage:function(e){var t,r;if(!e||!u.localStorageSupported)return null;try{if(null===(t=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return undefined;r=l.JSON.parse(t)}catch(n){BOOMR.warn(n);return null}if(!r||"object"!=typeof r.items){this.removeLocalStorage(e);return null}if("number"==typeof r.expires&&BOOMR.now()>=r.expires){this.removeLocalStorage(e);return undefined}return r.items},setLocalStorage:function(e,t,r){var n;if(!e||!u.localStorageSupported||"object"!=typeof t)return!1;t={items:t};"number"==typeof r&&(t.expires=BOOMR.now()+1e3*r);if((t=l.JSON.stringify(t)).length<5e4){try{l.localStorage.setItem(u.LOCAL_STORAGE_PREFIX+e,t);if(t===(n=l.localStorage.getItem(u.LOCAL_STORAGE_PREFIX+e)))return!0}catch(i){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+t+"\n"+n)}else BOOMR.warn("Storage items too large: "+t.length+" "+t);return!1},removeLocalStorage:function(e){if(!e||!u.localStorageSupported)return!1;try{l.localStorage.removeItem(u.LOCAL_STORAGE_PREFIX+e);return!0}catch(t){}return!1},cleanupURL:function(e,t){if(!e||BOOMR.utils.isArray(e))return"";u.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted"));if(void 0!==t&&e&&e.length>t){var r=e.indexOf("?");e=-1!==r&&r<t?e.substr(0,r)+"?...":e.substr(0,t-3)+"..."}return e},hashQueryString:function(e,t){if(!e)return e;if(!e.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e);return""}if((e=e.match(/^\/\//)?location.protocol+e:e).match(/^(https?|file):/))return(e=t?e.replace(/#.*/,""):e).replace(/\?([^#]*)/,function(e,t){return"?"+(10<t.length?BOOMR.utils.hashString(t):t)});BOOMR.error("Passed in URL is invalid: "+e);return""},pluginConfig:function(e,t,r,n){var i,o=0;if(!t||!t[r])return!1;for(i=0;i<n.length;i++)if(t[r][n[i]]!==undefined){e[n[i]]=t[r][n[i]];o++}return 0<o},arrayFilter:function(e,t){var r=[];if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return r;if("function"==typeof e.filter)r=e.filter(t);else for(var n,i=-1,o=e.length;++i<o;)t(n=e[i],i,e)&&(r[r.length]=n);return r},arrayFind:function(e,t){if(!(this.isArray(e)||e&&"number"==typeof e.length)||"function"!=typeof t)return undefined;if("function"==typeof e.find)return e.find(t);for(var r,n=-1,i=e.length;++n<i;)if(t(r=e[n],n,e))return r;return undefined},isMutationObserverSupported:function(){return!(l&&l.navigator&&l.navigator.userAgent&&l.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&l&&l.MutationObserver&&"function"==typeof l.MutationObserver},addObserver:function(e,t,r,n,i,o){var a,s,u={observer:null,timer:null};if(!this.isMutationObserverSupported()||!n||!e)return null;function c(e){var t=!1;if(u.timer){clearTimeout(u.timer);u.timer=null}n&&((t=n.call(o,e,i))||(n=null));if(!t&&u.observer){u.observer.disconnect();u.observer=null}"number"==typeof t&&0<t&&(u.timer=setTimeout(c,t))}a=l.MutationObserver;l.Zone&&"function"==typeof l.Zone.__symbol__&&(s=l.Zone.__symbol__("MutationObserver"))&&"string"==typeof s&&l.hasOwnProperty(s)&&"function"==typeof l[s]&&(a=l[s]);u.observer=new a(c);r&&(u.timer=setTimeout(c,u.timeout));u.observer.observe(e,t);return u},addListener:function(e,t,r,n){var i=!1;if(e.addEventListener){"object"==typeof n?i=n:"boolean"==typeof n&&n&&BOOMR.browser.supportsPassive()&&(i={capture:!1,passive:!0});e.addEventListener(t,r,i)}else e.attachEvent&&e.attachEvent("on"+t,r);u.listenerCallbacks[t]=u.listenerCallbacks[t]||[];u.listenerCallbacks[t].push({el:e,fn:r})},removeListener:function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r);if(u.listenerCallbacks.hasOwnProperty(t))for(var n=0;n<u.listenerCallbacks[t].length;n++)if(r===u.listenerCallbacks[t][n].fn&&e===u.listenerCallbacks[t][n].el){u.listenerCallbacks[t].splice(n,1);return}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var r;if(void 0===e||void 0===t||!t.length)return!1;for(r=0;r<t.length;r++)if(t[r]===e)return!0;return!1},getQueryParamValue:function(e,t){var r,n,i,o;if(!e)return null;"string"==typeof t?(r=BOOMR.window.document.createElement("a")).href=t:r="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location;n=r.search.slice(1).split(/&/);for(i=0;i<n.length;i++)if(n[i]&&(o=n[i].split("=")).length&&o[0]===e)try{return 1<o.length?decodeURIComponent(o.splice(1).join("=").replace(/\+/g," ")):""}catch(a){if(!a||"string"!=typeof a.name||-1===a.name.indexOf("URIError"))throw a}return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})},serializeForUrl:function(e){return BOOMR.utils.Compression&&BOOMR.utils.Compression.jsUrl?BOOMR.utils.Compression.jsUrl(e):window.JSON?JSON.stringify(e):""},getMyURL:function(){var e,t=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(t)return t.src;for(var r=document.getElementsByTagName("script"),n=r.length;n--;)if("interactive"===r[n].readyState)return r[n].src;try{throw new Error}catch(i){if("stack"in i&&(e=this.arrayFilter(i.stack.split(/\n/),function(e){return e.match(/https?:\/\//)}))&&e.length)return e[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var e=l.pageXOffset!==undefined,t="CSS1Compat"===(l.document.compatMode||""),r={x:0,y:0};if(e)if("function"==typeof l.pageXOffset){r.x=l.pageXOffset();r.y=l.pageYOffset()}else{r.x=l.pageXOffset;r.y=l.pageYOffset}else if(t){r.x=l.document.documentElement.scrollLeft;r.y=l.document.documentElement.scrollTop}else{r.x=l.document.body.scrollLeft;r.y=l.document.body.scrollTop}"number"==typeof r.sx&&(r.sx=Math.round(r.sx));"number"==typeof r.sy&&(r.sy=Math.round(r.sy));return r},windowHeight:function(){return l.innerHeight||l.document.documentElement.clientHeight||l.document.body.clientHeight},windowWidth:function(){return l.innerWidth||l.document.documentElement.clientWidth||l.document.body.clientWidth},isNative:function(e){return!!e&&e.toString&&!e.hasOwnProperty("toString")&&/\[native code\]/.test(String(e))},overwriteNative:function(e,t,r){if(e&&r){BOOMR.boomerang_frame!==BOOMR.window&&u.nativeOverwrites.push({obj:e,functionName:t,origFn:e[t]});e[t]=r}},isInteger:function(e){return(Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})(e)},isObjectEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},hashString:function(e){e=encodeURIComponent(e);for(var t=2166136261,r=0;r<e.length;r++){t^=e.charCodeAt(r);t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}var n=(t>>>0).toString()+e.length;return parseInt(n).toString(36)},isCurrentUASameSiteNoneCompatible:function(){return!(l&&l.navigator&&l.navigator.userAgent&&"string"==typeof l.navigator.userAgent)||this.isUASameSiteNoneCompatible(l.navigator.userAgent)},isUASameSiteNoneCompatible:function(e){var t=e.match(/(UCBrowser)\/(\d+\.\d+)\.(\d+)/);if(t){var r=parseFloat(t[2]),n=t[3];return 12.13===r?!(n<=2):!(r<12.13)}if(t=e.match(/(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/)){r=t[2];return 51<=r&&r<=66?!1:!0}return(t=e.match(/(Macintosh;.*Mac OS X 10_14[_\d]*.*) AppleWebKit\//))?(!(t=e.match(/Version\/.* Safari\//))||null!==(t=e.match(/Chrom(?:e|ium)/)))&&!(t=e.match(/^Mozilla\/\d+(?:\.\d+)* \(Macintosh;.*Mac OS X \d+(?:_\d+)*\) AppleWebKit\/\d+(?:\.\d+)* \(KHTML, like Gecko\)$/)):!(t=e.match(/(iP.+; CPU .*OS 12(?:_\d+)*.*)/))}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var e=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,e)}catch(t){}}return BOOMR.browser.results.supportsPassive}},init:function(e){var t,r,n=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","same_site_cookie","secure_cookie"];BOOMR_check_doc_domain();(e=e||{}).log!==undefined&&(this.log=e.log);this.log||(this.log=function(){});this.pageId||(this.pageId=BOOMR.utils.generateId(8));if(e.primary&&u.handlers_attached)return this;if("undefined"!=typeof e.site_domain){/:/.test(e.site_domain)&&(e.site_domain=l.location.hostname.toLowerCase());this.session.domain=e.site_domain}BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());"undefined"!=typeof e.autorun&&(u.autorun=e.autorun);for(r in this.plugins)if(this.plugins.hasOwnProperty(r))if(e[r]&&e[r].hasOwnProperty("enabled")&&!1===e[r].enabled){u.disabled_plugins[r]=1;"function"==typeof this.plugins[r].disable&&this.plugins[r].disable()}else{if(u.disabled_plugins[r]){if(!e[r]||!e[r].hasOwnProperty("enabled")||!0!==e[r].enabled)continue;"function"==typeof this.plugins[r].enable&&this.plugins[r].enable();delete u.disabled_plugins[r]}if("function"==typeof this.plugins[r].init)try{this.plugins[r].init(e)}catch(i){BOOMR.addError(i,r+".init")}}for(t=0;t<n.length;t++)e[n[t]]!==undefined&&(u[n[t]]=e[n[t]]);if(!u.handlers_attached&&!e.wait||u.handlers_attached&&u.waiting_for_config){if(!u.onloadfired&&(u.autorun===undefined||!1!==u.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}u.waiting_for_config=!1}if(u.handlers_attached)return this;e.wait&&(u.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(l,"DOMContentLoaded",function(){u.fireEvent("dom_loaded")});BOOMR.fireEvent("config",e);BOOMR.subscribe("config",function(e){e.beacon_url&&(u.beacon_url=e.beacon_url)});BOOMR.subscribe("spa_navigation",u.spaNavigation,null,u);!function(){var e,t;if(c!==undefined){BOOMR.utils.addListener(a,c,function(){u.fireEvent("visibility_changed")});u.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now();if("prerender"===u.lastVisibilityState&&"prerender"!==e){BOOMR.addVar("vis.pre","1");u.fireEvent("prerender_to_visible")}u.lastVisibilityState=e})}BOOMR.utils.addListener(a,"mouseup",u.xb_handler("click"));e=a.getElementsByTagName("form");for(t=0;t<e.length;t++)BOOMR.utils.addListener(e[t],"submit",u.xb_handler("form_submit"));l.onpagehide||null===l.onpagehide||BOOMR.utils.addListener(l,"unload",function(){BOOMR.window=l=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",u.onFrameUnloaded)}();u.handlers_attached=!0;return this},attach_page_ready:function(e){BOOMR.hasBrowserOnloadFired()?this.setImmediate(e,null,null,BOOMR):l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pageshow",e):BOOMR.utils.addListener(l,"load",e)},page_ready_autorun:function(e){u.autorun&&BOOMR.page_ready(e,!0)},page_ready:function(e,t){var r;if(!t&&"number"==typeof e){r=e;e=null}e=(e=e||l.event)||{name:"load"};if(t){if("number"==typeof l.BOOMR_page_ready){e.timing=e.timing||{};e.timing.loadEventEnd=l.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{e.timing=e.timing||{};r?e.timing.loadEventEnd=r:"number"==typeof l.BOOMR_page_ready?e.timing.loadEventEnd=l.BOOMR_page_ready:e.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(u.onloadfired)return this;u.fireEvent("page_ready",e);u.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var e=BOOMR.getPerformance();return a.readyState&&"complete"===a.readyState||e&&e.timing&&0<e.timing.loadEventStart||0<l.BOOMR_onload},onloadFired:function(){return u.onloadfired},setImmediate:function(e,t,r,n){var i=function(){e.call(n||null,t,r||{},void 0);i=null};l.requestIdleCallback?l.requestIdleCallback(i,{timeout:1e3}):l.setImmediate?l.setImmediate(i):setTimeout(i,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},forceSameSiteCookieNone:function(){u.forced_same_site_cookie_none=!0},hrNow:function(){var e,t=BOOMR.getPerformance();if(t&&t.now)e=t.now();else{t=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e=BOOMR.now()-t}return e},visibilityState:e===undefined?function(){return"visible"}:function(){return a[e]},lastVisibilityEvent:{},registerEvent:function(e){if(u.events.hasOwnProperty(e))return this;u.events[e]=[];return this},disable:function(){u.clearEvents();u.clearListeners()},fireEvent:function(e,t){return u.fireEvent(e,t)},subscribe:function(t,r,n,i,e){var o,a,s;t=t.toLowerCase();u.translate_events[t]&&(t=u.translate_events[t]);u.events.hasOwnProperty(t)||(u.events[t]=[]);s=u.events[t];for(o=0;o<s.length;o++)if((a=s[o])&&a.fn===r&&a.cb_data===n&&a.scope===i)return this;s.push({fn:r,cb_data:n||{},scope:i||null,once:e||!1});"page_ready"===t&&u.onloadfired&&u.autorun&&this.setImmediate(r,null,n,i);if("page_unload"===t||"before_unload"===t){u.unloadEventsCount++;!function(){s.length;var e=function(e){r&&r.call(i,e||l.event,n);++u.unloadEventCalled===u.unloadEventsCount&&BOOMR.real_sendBeacon()};"page_unload"===t&&(l.onpagehide||null===l.onpagehide?BOOMR.utils.addListener(l,"pagehide",e):BOOMR.utils.addListener(l,"unload",e));BOOMR.utils.addListener(l,"beforeunload",e)}()}return this},addError:function BOOMR_addError(e,t,r){var n=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+e+", src: "+t+", extra: "+r);if(n&&n.is_supported())if("string"==typeof e)n.send({message:e,extra:r,functionName:t,noStack:!0},n.VIA_APP,n.SOURCE_BOOMERANG);else{"string"==typeof t&&(e.functionName=t);void 0!==r&&(e.extra=r);n.send(e,n.VIA_APP,n.SOURCE_BOOMERANG)}else{"string"!=typeof e&&(e=n=(n=String(e)).match(/^\[object/)?e.name+": "+(e.description||e.message).replace(/\r\n$/,""):n);t!==undefined&&(e="["+t+":"+BOOMR.now()+"] "+e);r&&(e+=":: "+r);u.errors[e]?u.errors[e]++:u.errors[e]=1}},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)||-2146828218===e.number},addVar:function(e,t,r){if("string"==typeof e){u.vars[e]=t;r&&(u.singleBeaconVars[e]=1)}else if("object"==typeof e){var n,i=e;for(n in i)if(i.hasOwnProperty(n)){u.vars[n]=i[n];r&&(u.singleBeaconVars[n]=1)}}return this},appendVar:function(e,t){var r=BOOMR.getVar(e)||"";r&&(r+=",");BOOMR.addVar(e,r+t);return this},removeVar:function(e){var t,r;if(!arguments.length)return this;r=1===arguments.length&&BOOMR.utils.isArray(e)?e:arguments;for(t=0;t<r.length;t++)u.vars.hasOwnProperty(r[t])&&delete u.vars[r[t]];return this},hasVar:function(e){return u.vars.hasOwnProperty(e)},getVar:function(e){return u.vars[e]},setVarPriority:function(e,t){if("number"!=typeof t||1!==Math.abs(t))return this;u.varPriority[t][e]=1;return this},setReferrer:function(e){u.r=e},requestStart:function(t){var r=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+t,r);return{loaded:function(e){BOOMR.responseEnd(t,r,e)}}},readyToSend:function(){for(var e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&"function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return!1;return!0},responseEnd:function(e,t,r,n){t="number"==typeof t?t:BOOMR.now();n="number"==typeof n?n:BOOMR.now();if(BOOMR.readyToSend())if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(e,t,r,n)},null,BOOMR,!0);else{u.beaconInQueue=!0;if("object"==typeof e)e.url&&u.fireEvent("xhr_load",e);else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",e,!0);BOOMR.plugins.RT.startTimer("xhr_"+e,t);u.fireEvent("xhr_load",{name:"xhr_"+e,data:r,timing:{loadEventEnd:n}})}}else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,t,r,n)},null,BOOMR,!0);else setTimeout(function(){BOOMR.responseEnd(e,t,r,n)},1e3)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(e){e&&(u.beacon_url_override=e);if(!u.beaconQueued){u.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(e,t,r){if(u.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(e,t,r)},null,BOOMR,!0);else{u.beaconInQueue=!0;for(var n in e)e.hasOwnProperty(n)&&BOOMR.addVar(n,e[n],!0);"function"==typeof t&&void 0!==r&&t.apply(r);BOOMR.sendBeacon()}},real_sendBeacon:function(){var e,t=[],r={};if(!u.beaconQueued)return!1;u.beaconQueued=!1;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)&&!u.disabled_plugins[e]&&!this.plugins[e].is_complete(u.vars)){delete u.vars.early;return!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var n=BOOMR.utils.inArray(u.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),i="undefined"==typeof u.vars["http.initiator"]||n;u.vars.pgu||(u.vars.pgu=n?a.URL:a.URL.replace(/#.*/,""));u.vars.pgu=BOOMR.utils.cleanupURL(u.vars.pgu);u.vars.u&&!n||(u.vars.u=u.vars.pgu);u.vars.pgu===u.vars.u&&delete u.vars.pgu;u.r?u.vars.r=BOOMR.utils.cleanupURL(u.r):delete u.vars.r;u.vars.v=BOOMR.version;BOOMR.snippetVersion&&(u.vars.sv=BOOMR.snippetVersion);u.vars.sm=BOOMR.snippetMethod||"i";if(BOOMR.session.enabled){u.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);u.vars["rt.ss"]=BOOMR.session.start;"undefined"==typeof u.vars.early?u.vars["rt.sl"]=1<=BOOMR.session.length?BOOMR.session.length:1:u.vars["rt.sl"]=BOOMR.session.length}else BOOMR.removeVar("rt.si","rt.ss","rt.sl");if(BOOMR.visibilityState()){u.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(u.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(u.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}u.vars["ua.plt"]=navigator.platform;u.vars["ua.vnd"]=navigator.vendor;this.pageId&&(u.vars.pid=this.pageId);u.vars.n=++this.beaconsSent;l!==window&&(u.vars["if"]="");for(e in u.errors)u.errors.hasOwnProperty(e)&&t.push(e+(1<u.errors[e]?" (*"+u.errors[e]+")":""));0<t.length&&(u.vars.errors=t.join("\n"));u.errors={};u.fireEvent("before_beacon",u.vars);for(e in u.vars)u.vars.hasOwnProperty(e)&&(r[e]=u.vars[e]);BOOMR.removeVar(["qt","pgu"]);if("undefined"==typeof u.vars.early){for(var o in u.singleBeaconVars)u.singleBeaconVars.hasOwnProperty(o)&&BOOMR.removeVar(o);u.singleBeaconVars={};if(!u.hasSentPageLoadBeacon&&i){u.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){u.fireEvent("page_load_beacon",r)})}}if(BOOMR.session.rate_limited)return!1;u.beaconInQueue=!1;BOOMR.sendBeaconData(r);return!0},sendBeaconData:function(e){var t,r=[],n=!0;u.beacon_url=u.beacon_url_override||u.beacon_url;if(!u.beacon_url)return!1;if(!u.beaconUrlAllowed(u.beacon_url))return!1;if(BOOMR.utils.isObjectEmpty(e))return!1;u.fireEvent("beacon",e);r=this.getVarsOfPriority(e,-1);i=this.getVarsOfPriority(e,1);r=r.concat(this.getVarsOfPriority(e,0),i).join("&");u.beacon_url_force_https&&u.beacon_url.match(/^\/\//)&&(u.beacon_url="https:"+u.beacon_url);e=u.beacon_url+(-1<u.beacon_url.indexOf("?")?"&":"?")+r;if("GET"===u.beacon_type){n=!0;e.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===u.beacon_type||e.length>BOOMR.constants.MAX_GET_LENGTH)&&(n=!1);if(l&&l.navigator&&"function"==typeof l.navigator.sendBeacon&&BOOMR.utils.isNative(l.navigator.sendBeacon)&&"function"==typeof l.Blob&&"GET"!==u.beacon_type&&"undefined"==typeof u.beacon_auth_token&&!u.beacon_disable_sendbeacon){var i=new l.Blob([r+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(l.navigator.sendBeacon(u.beacon_url,i))return!0}if(n=!(BOOMR.orig_XMLHttpRequest||l&&l.XMLHttpRequest)?!0:n){try{t=new Image}catch(o){return!1}t.src=e}else{e=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(e,r)}catch(o){e=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(e,r)}}return!0},hasSentPageLoadBeacon:function(){return u.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,t){e.open("POST",u.beacon_url);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");if("undefined"!=typeof u.beacon_auth_token){"undefined"==typeof u.beacon_auth_key&&(u.beacon_auth_key="Authorization");e.setRequestHeader(u.beacon_auth_key,u.beacon_auth_token)}u.beacon_with_credentials&&(e.withCredentials=!0);e.send(t)},getVarsOfPriority:function(e,t){var r,n=[],i=0!==t?u.varPriority[t]:e;for(r in i)if(i.hasOwnProperty(r)&&e.hasOwnProperty(r)){n.push(this.getUriEncodedVar(r,"undefined"==typeof e[r]?"":e[r]));0!==t&&delete e[r]}return n},getUriEncodedVar:function(e,t){"object"==typeof(t=t===undefined||null===t?"":t)&&(t=BOOMR.utils.serializeForUrl(t));return encodeURIComponent(e)+"="+encodeURIComponent(t)},getResourceTiming:function(e,t,r){var n,i=BOOMR.getPerformance();try{if(i&&"function"==typeof i.getEntriesByName){if(!(n=i.getEntriesByName(e))||!n.length)return;if(!("function"!=typeof r||(n=BOOMR.utils.arrayFilter(n,r))&&n.length))return;1<n.length&&"function"==typeof t&&n.sort(t);return n[n.length-1]}}catch(o){BOOMR.warn("getResourceTiming:"+o)}}};if(BOOMR.url){r=BOOMR.window.document.createElement("a");r.href=BOOMR.url;t.url=r.href}else t.url=t.utils.getMyURL();delete BOOMR_start;if("number"==typeof BOOMR_lstart){t.t_lstart=BOOMR_lstart;delete BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(t.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(t.t_onload=BOOMR.window.BOOMR_onload);!function(){var e;"object"==typeof console&&console.log!==undefined?t.log=function(e,t,r){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+r+": ["+t+"] "+e)}:t.log=function(){};t.debug=(e=function(r){return function(e,t){this.log(e,r,"boomerang"+(t?"."+t:""));return this}})("debug");t.info=e("info");t.warn=e("warn");t.error=e("error")}();try{var n=t.getPerformance();n&&"function"==typeof n.now&&/\[native code\]/.test(String(n.now))&&n.timing&&n.timing.navigationStart&&(t.now=function(){return Math.round(n.now()+n.timing.navigationStart)})}catch(i){}u.checkLocalStorageSupport();!function(){for(var e in t)t.hasOwnProperty(e)&&(BOOMR[e]=t[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}();s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){if(!BOOMR.plugins.ConfigOverride){var i={safeConfigOverride:function(e,t,r){for(var n in t)if(e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&("object"!=typeof t[n]||"object"==typeof e[n]))if("object"==typeof e[n]&&"object"==typeof t[n]){r[n]=r[n]||{};i.safeConfigOverride(e[n],t[n],r[n])}else{r[n]=e[n];BOOMR.addVar("c.o","")}},allowedConfigOverrides:{Akamai:{enabled:!0,dns_prefetch_enabled:!0,mapping_xhr_base_url:!0,mapping_xhr_url_path:!0,mapping_xhr_url_v4_prefix:!0,mapping_xhr_url_v6_prefix:!0},Angular:{enabled:!0},Ember:{enabled:!0},Backbone:{enabled:!0},History:{enabled:!0,monitorHistory:!0,disableHardNav:!0,routeFilter:!0,routeChangeWaitFilter:!0,routeChangeWaitFilterHardNavs:!0,monitorReplaceState:!0},PageParams:{enabled:!0,pageGroups:!0,customMetrics:!0,customDimensions:!0,customTimers:!0,abTests:!0,defaultDecimal:!0,defaultThousands:!0,xhr:!0,pci:!0,pciBlacklist:!0,jsVarPassArgs:!0,spaXhr:!0},CrossDomain:{cross_domain_url:!0,sending:!0,session_transfer_timeout:!0},IFrameDelay:{enabled:!0,monitoredCount:!0,registerParent:!0},instrument_xhr:!0,RT:{cookie:!0,session_exp:!0},BW:{base_url:!0,enabled:!0,test_https:!0},ResourceTiming:{enabled:!0,clearOnBeacon:!0,trimUrls:!0,serverTiming:!0,monitorClearResourceTimings:!0,splitAtPath:!0,getSrcsetDimensions:!0},AutoXHR:{alwaysSendXhr:!0,excludeFilters:!0,domExcludeFilters:!0,monitorFetch:!0,fetchBodyUsedWait:!0,spaIdleTimeout:!0,xhrIdleTimeout:!0,xhrRequireChanges:!0,spaStartFromClick:!0},Errors:{enabled:!0,onError:!0,monitorGlobal:!0,monitorNetwork:!0,monitorConsole:!0,monitorEvents:!0,monitorTimeout:!0,monitorRejection:!0,monitorReporting:!0,sendAfterOnload:!0,maxErrors:!0,sendInterval:!0},TPAnalytics:{enabled:!0},Continuity:{enabled:!0,monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!0,afterOnload:!0,afterOnloadMaxLength:!0,afterOnloadMinWait:5e3,waitAfterOnload:!0,ttiWaitForFrameworkReady:!0,ttiWaitForHeroImages:!0,sendLog:!0,logMaxEntries:100,sendTimeline:!0},UserTiming:{enabled:!0},LOGN:{storeConfig:!0},Early:{enabled:!0},EventTiming:{enabled:!0},autorun:!0,beacon_disable_sendbeacon:!0,same_site_cookie:!0,secure_cookie:!0}};BOOMR.plugins.ConfigOverride={init:function(e){BOOMR.window&&BOOMR.window.BOOMR_config&&i.safeConfigOverride(BOOMR.window.BOOMR_config,i.allowedConfigOverrides,e);return this},is_complete:function(){return!0}}}}();!function(){var p,d,f,a,O;if(!BOOMR.plugins.PageParams){var m,e=/(-?(?:[1-9][\d,]*)?[0-9](?:\.\d+)?)/,o=["img","iframe","script","link","object","svg","video"],n={name:1,"honorific-prefix":1,"given-name":1,"additional-name":1,"family-name":1,"honorific-suffix":1,username:1,"new-password":1,"current-password":1,"street-address":1,country:1,"country-name":1,"postal-code":1,email:1,tel:1},i=["cc-","address-","tel-"],r=[/(?:3[47][0-9]{13})/,/(?:3(?:0[0-5]|[68][0-9])[0-9]{11})/,/(?:6(?:011|5[0-9]{2})(?:[0-9]{12}))/,/(?:(?:2131|1800|35\d{3})\d{11})/,/(?:(?:5[0678]\d\d|6304|6390|67\d\d)\d{8,15})/,/(?:(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12})/,/(?:4[0-9]{12})(?:[0-9]{3})?/,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/],h=function(){return{pageGroups:{varname:"h.pg",stopOnFirst:!0,isDimension:!0},abTests:{varname:"h.ab",stopOnFirst:!0,isDimension:!0},customMetrics:{cleanUpRE:e},customDimensions:{sanitizeRE:/[^\w\. \-]/g,isDimension:!0},customTimers:{cleanUpRE:e,method:BOOMR.plugins.RT&&BOOMR.plugins.RT.setTimer,ctx:BOOMR.plugins.RT,preProcessor:function(e){return Math.round("number"==typeof e?e:parseFloat(e,10))}}}},s=["src","href","data","codebase"],u={".,":e},c={".":/\./g,",":/,/g," ":/ /g,"'":/'/g};(m=function(e){this.varname=e.varname;this.method=e.method||function(e,t){BOOMR.addVar(e,t,!0)};this.ctx=e.ctx||BOOMR;this.preProcessor=e.preProcessor;this.sanitizeRE=e.sanitizeRE||/[^\w \-]/g;this.cleanUpRE=e.cleanUpRE;this.resourceTime={};this.resources=[];this.RTSupport=!1;this.MOSupport=!1;return this}).prototype={apply:function(e){if(!(e=this.preProcessor?this.preProcessor(e):e)&&0!==e)return!1;"function"==typeof this.method&&this.method.call(this.ctx,this.varname,e);return!0},handle:function(e,t,r){var n=this;if(!this.isValid(e))return!1;e.label&&("ResourceGroup"===e.type&&O.resourceGroupHandlers[e.label]?n=O.resourceGroupHandlers[e.label]:(n=new m(this)).varname=e.label);return n[e.type](e,t,r)},isValid:function(e){return e&&"object"==typeof e&&e.hasOwnProperty("type")&&"function"==typeof this[e.type]&&(this.varname||e.label)},cleanUp:function(e,t){var r,n,i=this.cleanUpRE;if(!e)return e;if(i){r=t&&t.decimal?t.decimal:O.defaultDecimal;t=t&&t.thousands?t.thousands:O.defaultThousands;if(("."!==r||","!==t)&&void 0===(i=u[n=r+t])){i=new RegExp("(-?(?:[1-9][\\d"+t+"]*)?[0-9](?:\\"+r+"\\d+)?)");u[n]=i}if((n=e.match(i))&&1<n.length){e=n[1];if(void 0===(i=c[t])){i=new RegExp("\\"+t,"g");c[t]=i}e=e.replace(i,"");return e="."!==r?e.replace(r,"."):e}return""}return e.replace(this.sanitizeRE,"")},isValidObjectMember:function(e,t){return null!==e&&("object"==typeof e||(!("function"!=typeof e||!e.hasOwnProperty(t))||!("string"!=typeof e||!e.hasOwnProperty(t))))},extractFromDOMElement:function(e,t){var r="";if(O.pci&&this.hasSensitiveData(e)){BOOMR.appendVar("pci.redacted",t.label);return!1}null===e||!e.nodeName||"INPUT"!==e.nodeName.toUpperCase()&&"TEXTAREA"!==e.nodeName.toUpperCase()&&"SELECT"!==e.nodeName.toUpperCase()?null!==e&&(r=e.textContent||e.innerText):("checkbox"!==e.type.toLowerCase()&&"radio"!==e.type.toLowerCase()||e.checked)&&(r=e.value);if(O.pci&&this.isSensitiveData(r)){BOOMR.appendVar("pci.redacted",t.label);return!1}if(t.match&&"numeric"!==t.match){if("boolean"===t.match)r=1;else if(t.match.match(/^regex:/)){if(!(e=t.match.match(/^regex:(.*)/))||e.length<2)return!1;try{new RegExp(e[1],"i").test(r)&&(r=1)}catch(n){BOOMR.addError(n,"PageVars.URLPatternType",t.match);return!1}}}else r=this.cleanUp(r,t);return r},hasSensitiveData:function(e){var t;if(!e)return!1;if(e.nodeName&&("INPUT"===e.nodeName.toUpperCase()||"TEXTAREA"===e.nodeName.toUpperCase()||"SELECT"===e.nodeName.toUpperCase())){var r=e.autocomplete||"function"==typeof e.getAttribute&&e.getAttribute("autocomplete");if(r&&r.length){r=r.toLowerCase();if(n[r])return!0;for(t=0;t<i.length;t++)if(0===r.indexOf(i[t]))return!0}}if(O.pciBlacklist&&O.pciBlacklist.length){if(!O.pciBlacklistQueried){O.pciBlacklistMatch=this.runQuerySelector(O.pciBlacklist,f,!0);O.pciBlacklistQueried=!0}if(O.pciBlacklistMatch&&O.pciBlacklistMatch.length)for(t=0;t<O.pciBlacklistMatch.length;t++)if(e===O.pciBlacklistMatch[t])return!0}return!1},isSensitiveData:function(e){var t;if(!e||!e.length)return!1;for(t=0;t<r.length;t++)if(r[t].exec(e))return!0;return!1},execSafeRegEx:function(e,t){if(!(e instanceof RegExp))try{e=new RegExp(e,"i")}catch(r){BOOMR.addError(r,"PageVars.handleRegEx",e);return!1}return void 0!==t&&e.exec(t)},handleRegEx:function(e,t,r){var n=this.execSafeRegEx(e,r);if(!n||!n.length)return!1;t=t.replace(/\$([1-9])/g,function(e,t){return decodeURIComponent(n[parseInt(t,10)])});t=this.cleanUp(t);return this.apply(t)},checkURLPattern:function(e,t,r){var n;if(!e)return!0;n=e.replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/\*/g,".*?");try{n=new RegExp("^"+n+"$","i")}catch(i){BOOMR.addError(i,"PageVars.checkURLPattern",e);return!1}t=t||d.href;return!!n.exec(t)},nodeWalk:function(e,t){var r,n,i,o;if(!t)return e;if(!(r=t.match(/^(\w+)(?:\[(\d+)\])?\/?(.*)/))||!r.length)return null;n=e.getElementsByTagName(r[1]);if(r[2]){i=parseInt(r[2],10);if(isNaN(i))return null;if(n.length<=--i)return null;n=[n[i]]}for(i=0;i<n.length;i++)if(o=this.nodeWalk(n[i],r[3]))return o;return null},runXPath:function(e,t){var r,n,i,o=!1;t=t||f;try{t.evaluate?r=t.evaluate(e,t,null,9,null):t.selectNodes?r=t.selectNodes(e):o=!0}catch(a){i=a;o=!0}if(!r&&o)try{if(e.match(/^\/html(?:\/\w+(?:\[\d+\])?)*$/)){e=e.slice(6);return this.nodeWalk(f,e)}if(null!==(n=e.match(/\[@id=(["'])([^"']+)\1\]((?:\/\w+(?:\[\d+\])?)*)$/)))return(r=t.getElementById(n[2]))&&n[3]?this.nodeWalk(r,n[3].slice(1)):r;if(null!==(n=e.match(/\[@class="([^"]+)"\]((?:\/\w+(?:\[\d+\])?)*)$/)))return(r=(r=t.getElementsByClassName(n[1]))&&r.length?r[0]:r)&&n[2]?this.nodeWalk(r,n[2].slice(1)):r;if(i){BOOMR.error("Error evaluating XPath: "+i,"PageVars");BOOMR.addError(i,"PageVars.runXPath.native",e)}return null}catch(a){BOOMR.error("Error evaluating XPath: "+a,"PageVars");BOOMR.addError(a,"PageVars.runXPath.ours",e);return null}return r&&9===r.resultType&&r.singleNodeValue?r.singleNodeValue:null},runQuerySelector:function(e,t,r){var n;r=r||!1;t=t||f;try{if(!t.querySelector&&!t.querySelectorAll)return null;n=r?t.querySelectorAll(e):t.querySelector(e)}catch(i){BOOMR.error(""+i,"PageVars");BOOMR.addError(i,"PageVars.runQueryselector",e);return null}return n},JavaScriptVar:function(e){var t;if(!this.checkURLPattern(e.parameter1))return!1;if(t=this.extractJavaScriptVariable(e.varName,e))return t;O.mayRetry.push({handler:this,data:e});return!1},Custom:function(e){var t;if(!this.checkURLPattern(e.parameter2))return!1;if(t=this.extractJavaScriptVariable(e.parameter1,e))return t;O.mayRetry.push({handler:this,data:e});return!1},extractJavaScriptVariable:function(e,t,r){var n,i,o,a=r||p;if(!e)return!1;n=e.split(/\[((["'])[\w,.-]*\2|\d*)\]|\./);for(o=0;o<n.length;o++)n[o]&&(n[o]=n[o].replace(/("|')/g,""));if(!(n=BOOMR.utils.arrayFilter(n,function(e){return e&&0<e.length}))||0===n.length)return!1;i=a[n.shift()];try{for(;n.length&&this.isValidObjectMember(i,n[0]);)i=(a=i)[n.shift()]}catch(s){BOOMR.addError(s,"PageVars.extractJavaScriptVariable",e+"::"+n.join("."));return!1}if(0!==n.length)return!1;if("function"==typeof i)try{i=O.jsVarPassArgs?i.call(a,this.varname):i.call(a)}catch(s){BOOMR.plugins.Errors&&BOOMR.plugins.Errors.send(s);return!1}if(void 0===i||"object"==typeof i||"function"==typeof i)return!1;if(t&&"boolean"===t.match){if("string"==typeof i){if("0"!==(i=i.replace(/^\s+|\s+$/g,"").toLowerCase())&&"false"!==i&&i)return this.apply(1)}else if(i)return this.apply(1);return undefined}i=this.cleanUp(String(i),t);return this.apply(i)},URLPattern:function(e){if(!e.parameter2)return!1;if(!this.checkURLPattern(e.parameter1))return!1;if(e=BOOMR.utils.getQueryParamValue(e.parameter2,d)){e=this.cleanUp(e);return this.apply(e)}},URLSubstringEndOfText:function(e){return this.URLSubstringTrailingText(e)},URLSubstringTrailingText:function(e){return!!e.parameter1&&this.handleRegEx("^"+e.parameter1.replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/([^\.])\*/g,"$1.*?").replace(/^\*/,".*")+"(.*)"+(e.parameter2||"").replace(/([.+?\^=!:${}()|\[\]\/\\])/g,"\\$1").replace(/([^\.])\*/g,"$1.*")+"$","$1",d.href)},UserAgentRegex:function(e){return this._Regex(e.parameter1,e.regex,e.replacement,navigator.userAgent)},CookieRegex:function(e){return this._Regex(e.parameter1,e.regex,e.replacement,e.cookieName?BOOMR.utils.getCookie(e.cookieName):f.cookie)},URLRegex:function(e){return this._Regex(e.parameter1,e.regex,e.replacement,d.href)},Regexp:function(e,t){var r;return(r=t&&"string"==typeof t?t.match("http(|s)://"):r)&&0<r.length?this._Regex(null,e.parameter1,e.parameter2,t,e.ignore):this._Regex(null,e.parameter1,e.parameter2,d.href,e.ignore)},_Regex:function(e,t,r,n,i){i&&(r="1");return!(!t||!r)&&(!!this.checkURLPattern(e)&&this.handleRegEx(t,r,n))},URLPatternType:function(e){var t;if(!this.checkURLPattern(e.parameter1))return!1;if(!e.parameter1||e.parameter2||e.queryselector)if(e.queryselector){if(!(t=this.runQuerySelector(e.queryselector)))return!1;t=this.extractFromDOMElement(t,e)}else{if(!e.parameter2)return!1;if(!(t=this.runXPath(e.parameter2)))return!1;t=this.extractFromDOMElement(t,e)}else t="1";return this.apply(t)},ResourceTiming:function(e){var t,r,n,i,o;if(!e.parameter2&&!e.url&&!e.queryselector)return!1;if(!e.start||!e.end&&"*"!==e.start)return!1;if(!a||!a.getEntriesByName)return!1;if(!this.checkURLPattern(e.parameter1))return!1;"slowest"===e.parameter2||"slowest"===e.url?r="slowest":e.url?r=e.url:e.parameter2?t=this.runXPath(e.parameter2):e.queryselector&&(t=this.runQuerySelector(e.queryselector));if(t)r=t.currentSrc||t.src||"function"==typeof t.getAttribute&&t.getAttribute("xlink:href")||t.href;else if(!r)return!1;if(!(n=this.findResource(r,null,O.deltaFromNavStart))){O.mayRetry.push({handler:this,data:e});return!1}"slowest"===r&&BOOMR.addVar("dom.res.slowest",n.name,!0);if("*"===e.start){for(o in n)n.hasOwnProperty(o)&&o.match(/(Start|End)$/)&&0<n[o]&&BOOMR.addVar(this.varname+"."+o.replace(/^(...).*(St|En).*$/,"$1$2"),Math.round(n[o]),!0);return this.apply(n.duration)}if(e.relative_to_nt||"navigationStart"===e.start)i=O.deltaFromNavStart;else{i=parseFloat(n[e.start],10);if(!isNaN(i)&&0===i)return!1}e=parseFloat(n[e.end],10);if(isNaN(i)||isNaN(e))return!1;if(0===e)return!1;BOOMR.addVar(this.varname+"_st",Math.round(i-O.deltaFromNavStart),!0);return this.apply(e-i)},findResource:function(e,t,r){r=this.findResources(e,t,r,1);return null!==r&&r&&0<r.length?r[0]:null},getFrameResources:function(e,t){try{e.location&&e.location.href;return"performance"in e&&e.performance&&e.performance.getEntriesByName&&e.performance.getEntriesByType?t?e.performance.getEntriesByName(t):e.performance.getEntriesByType("resource"):null}catch(r){if(BOOMR.isCrossOriginError(r))return null;try{if("TypeError"===r.name&&"Invalid calling object"===r.message&&e.document.location.pathname.match(/\.pdf$/))return null}catch(n){}BOOMR.addError(r,"PageVars.getFrameResources");return null}},findResources:function(e,t,r,n){var i,o,a,s,u,c,l,d=[];t=t||p;r=r||0;if("slowest"!==e){if(null===(a=this.getFrameResources(t,e)))return null;if(a&&0<a.length)for(i=0;i<a.length;i++)if(!(a[i].startTime<r)){d.push(a[i]);if(n&&d.length===n)return d}}if(e&&(-1!==e.indexOf("*")||"slowest"===e)&&(a=this.getFrameResources(t))&&0<a.length)for(i=0;i<a.length;i++)if(!(a[i].startTime<r))if("slowest"===e)(!o||a[i].duration>o.duration)&&(o=a[i]);else if(a[i].name&&this.checkURLPattern(e,a[i].name,!1)){d.push(a[i]);if(n&&d.length===n)return d}if(t.frames){u=function f(e){try{return e.frames.length}catch(t){return 0}}(t);for(s=0;s<u;s++){l=t.frames[s];if(l&&l!==t&&(c=this.findResources(e,l,r,n?n-d.length:0)))for(i=0;i<c.length;i++)if("slowest"===e)(!o||c[i].duration>o.duration)&&(o=c[i]);else{d.push(c[i]);if(n&&d.length===n)return d}}}return o?[o]:d},UserTiming:function(e){var t,r;if(!e.parameter2)return!1;if(!a||"function"!=typeof a.getEntriesByType)return!1;if(!this.checkURLPattern(e.parameter1))return!1;t=a.getEntriesByType("mark");for(r=0;t&&r<t.length;r++)if(!(t[r].startTime<O.deltaFromNavStart)&&t[r].name===e.parameter2)return this.apply(t[r].startTime);t=a.getEntriesByType("measure");for(r=0;t&&r<t.length;r++)if(!(t[r].startTime<O.deltaFromNavStart)&&t[r].name===e.parameter2){t[r].startTime&&BOOMR.addVar(this.varname+"_st",Math.round(t[r].startTime),!0);return this.apply(t[r].duration)}O.mayRetry.push({handler:this,data:e})},Payload:function(e,t,r){var n,i,o=BOOMR.window.DOMParser,a=BOOMR.window.JSON;if(!r)return null;if(e.url&&!this.checkURLPattern(e.url,r.url))return null;if(e.parameter1&&e.parameter2){if(!r.response||!r.response.raw)return null;if("queryselector"===e.parameter1||"xpath"===e.parameter1){if(r.response.xml){"queryselector"===e.parameter1?n=this.runQuerySelector(e.parameter2,r.response.xml):"xpath"===e.parameter1&&(n=this.runXPath(e.parameter2,r.response.xml));if(!n)try{if(o){i=(new o).parseFromString(r.response.raw);"queryselector"===e.parameter1?n=this.runQuerySelector(e.parameter2,i):"xpath"===e.parameter1&&(n=this.runXPath(e.parameter2,i))}}catch(u){return null}return this.apply(this.extractFromDOMElement(n,e))}}else if("json"===e.parameter1){if(r.response.json)return this.extractJavaScriptVariable(e.parameter2,e,r.response.json);if(r.response.raw)try{if(window.JSON&&"function"==typeof a.parse){var s=a.parse(r.response.raw);return this.extractJavaScriptVariable(e.parameter2,e,s)}}catch(u){return null}}else if("substring"===e.parameter1){r.response.text||r.response.raw;return(r=this.execSafeRegEx(e.parameter2,r.response.text))&&r.length?!!(r=this.cleanUp(r[0]))&&this.apply(r):!1}}return null},ResourceGroup:function(e,t){var r,n,i,o,a,s,u,c=[];if(BOOMR.utils.isArray(t)){s=t[0];u=t[1]}else{s=t;u=BOOMR.window.document.URL}a="load"===(void 0!==s?s:"onload")?"onload":s;if(e.value){for(r in(this.config=e).value)if(e.value.hasOwnProperty(r)&&this.checkURLPattern(r,u)&&e.value[r].resources&&0<e.value[r].resources.length){if(e.value[r].on&&0<e.value[r].on.length&&(BOOMR.utils.inArray(a,e.value[r].on)||"init"===a&&BOOMR.utils.inArray("onload",e.value[r].on)))for(var l in e.value[r].resources)e.value[r].resources.hasOwnProperty(l)&&c.push(e.value[r].resources[l]);break}if(0===c.length)return null;this.resourceSet=c;(s=BOOMR.getPerformance())&&"function"==typeof s.getEntriesByName&&"function"==typeof s.getEntriesByType&&(this.RTSupport=!0);this.MOSupport=BOOMR.utils.isMutationObserverSupported();this.eventsrc=a;if(this.RTSupport)for(n=0;n<c.length;n++){"init"!==a&&"xhr"!==a&&this.refreshResourceGroupTimings(this.lookupResources(n),n);this.MOSupport&&("init"===a||this.isOnPageEvent())&&(this.obs=this.setupMutationObserver(n))}else if(this.RTSupport||!this.MOSupport||"init"!==a&&!this.isOnPageEvent()){if(!this.RTSupport&&!this.MOSupport&&("init"===a||this.isOnPageEvent()))for(n=0;n<c.length;n++)(i=this.setupListener(n))&&(this.listener=i)}else for(n=0;n<c.length;n++)(o=this.setupMutationObserver(n))&&(this.observer=o);if("onload"===a&&!this.attached){this.applyTimedResources(!0);this.attached=!0}return this}},setupMutationObserver:function(e){var t,r=this.resourceSet[e],n=0,i=this.getNode(e),o={childList:!0,attributes:!0,subtree:!0,attributeFilter:s};if(!this.isOnPageEvent()&&"onload"===this.eventsrc)return null;if(!(i="resource"===r.type?BOOMR.window.document.body:i)&&null===i){this.resourceSet[e].found=!1;this.resourceSet[e].fallback=!0;i=BOOMR.window.document.body}if(!i||"number"!=typeof i.length){if(i&&!this.isContainer(i)){this.resourceSet[e].found=!0;return null}this.traverseElements(i,e);return BOOMR.utils.addObserver(i,o,null,this.mutationCb.bind(this),e,this)}for(n=0;n<i.length;n++){t=i[n];this.traverseElements(t,e);!t||this.isContainer(t)?BOOMR.utils.addObserver(t,o,null,this.mutationCb.bind(this),e,this):this.resourceSet[e].found=!0}},setupListener:function(e){var t,r=this.resourceSet[e],n=this.getNode(e),i=null,o=0,a=this,s=BOOMR.now(),u=0;if((!(n="resource"===r.type?BOOMR.window.document.body:n)||null===n)&&BOOMR.window.document.body){this.resourceSet[e].found=!1;this.resourceSet[e].fallback=!0;n=BOOMR.window.document.body}if(BOOMR.window.document.body!==n||null!==n){if(n&&0<n.length){this.resourceSet[e].found=!0;for(u=0;u<n.length;u++){t=n[u];this.isContainer(t)?this.traverseElements(n,e):this.initResourceGroupListener(t,e)}return null}if(!n||this.isContainer(n)){this.traverseElements(n,e);i=setInterval(function c(){if(500<=o)clearInterval(i);else{a.traverseElements(n,e);o+=BOOMR.now()-s;s=BOOMR.now()}},100)}else{this.resourceSet[e].found=!0;this.initResourceGroupListener(n,e)}}},findResourceChildren:function(e){var t,r,n,i=[];if(!e||!e.getElementsByTagName)return i;for(t=0;t<o.length;t++){n=e.getElementsByTagName(o[t]);for(r=0;r<n.length;r++)i.push(n[r])}return i},attachContainerElements:function(e,t){var r,n,i=this.resourceSet[t],o=[];for(r in o=this.findResourceChildren(e)){n=this.getNodeURL(o[r]);if("resource"===i.type&&n&&this.checkURLPattern(i.value,n)){this.resourceSet[t].found=!0;this.initResourceGroupListener(o[r],t);break}("resource"!==i.type||n&&this.checkURLPattern(i.value,n)||!n&&this.isOnPageEvent())&&this.initResourceGroupListener(o[r],t)}},traverseElements:function(e,t){var r=this.resourceSet[t],n=this.getNodeURL(e);if("resource"===r.type)if(n&&this.checkURLPattern(r.value,n)){this.resourceSet[t].found=!0;this.initResourceGroupListener(e,t)}else this.isContainer(e)&&this.attachContainerElements(e,t);else if(this.isContainer(e)&&!r.fallback){this.resourceSet[t].found=!0;this.attachContainerElements(e,t)}else if(!this.isContainer(e)){this.resourceSet[t].found=!0;this.initResourceGroupListener(e,t)}},mutationCb:function(e,t){this.resourceSet[t];var r,n,i,o,a,s,u=[];if(e&&0<e.length){for(i=0;i<e.length;i++)if((n=e[i]).addedNodes&&0<n.addedNodes.length){a=n.addedNodes;for(s=0;s<a.length;s++)u.push(a[s])}if(u&&0<u.length){r=this.getNode(t);this.RTSupport&&this.refreshResourceGroupTimings(this.lookupResources(t),t);for(o=0;o<u.length;o++)this.traverseElements(u[o],t);if(r&&!r.hasOwnProperty("length")&&this.obs&&this.obs.observer&&this.resourceSet[t].fallback){this.resourceSet[t].fallback=!1;this.obs.observer.disconnect();clearTimeout(this.obs.timer);this.setupMutationObserver(t)}}}},isOnPageEvent:function(e){return e?"spa"===e||"spa_hard"===e||"xhr"===e:"spa"===this.eventsrc||"spa_hard"===this.eventsrc||"xhr"===this.eventsrc},resourceSetIsResolved:function(){var e=this.getUnresolvedIndex();return"boolean"==typeof e||"number"!=typeof e&&void 0},getUnresolvedIndex:function(){for(var e=0;e<this.resourceSet.length;e++)if(!this.resourceSet[e].found)return e;return!1},hasUnresolvedAddVar:function(){if(this.resourceSetIsResolved())return!1;var e=this.getUnresolvedIndex();BOOMR.addVar(this.varname+"_rg.err","nf|"+e,!0);return!(this.resolved=!1)},applyTimedResources:function(e){if(isNaN(this.resourceTime.start)||isNaN(this.resourceTime.stop))return!1;if(0===this.resourceTime.stop)return!1;if(this.hasUnresolvedAddVar())return!1;this.resolved=!0;BOOMR.removeVar(this.varname+"_rg.err");BOOMR.addVar(this.varname+"_st",Math.round(this.resourceTime.start),!0);if(this.obs&&this.obs.observer){this.obs.observer.disconnect();clearTimeout(this.obs.timer)}return this.apply(this.resourceTime.stop-this.resourceTime.start)},lookupResources:function(e){var t,r,n,i=this.resourceSet[e],o=this.getNode(e),a=[],s=0,u=0,c=this.getStartTime(e);if(o&&"undefined"==typeof o.length){this.resourceSet[e].found=!0;if(t=this.getNodeURL(o))a=this.findResources(t);else for(var l=this.findChildElements(o),d=0;d<l.length;d++)a.push(this.findResource(this.getNodeURL(l[d])))}else if(o&&"number"==typeof o.length&&0<o.length&&!o[0][c]&&"resource"!==i.type)for(s=0;s<o.length;s++){r=o[s];if(this.isContainer(r))this.traverseElements(r,e);else if(n=this.findResources(this.getNodeURL(r))){this.resourceSet[e].found=!0;for(u=0;u<n.length;u++)a.push(n[u])}}else if(o&&"number"==typeof o.length){0<o.length&&(this.resourceSet[e].found=!0);return o}return a},refreshResourceGroupTimings:function(e,t){if(e&&0<e.length){for(var r=0;r<e.length;r++)this.updateResourceGroupDelta(e[r],t);this.applyTimedResources()}},isContainer:function(e){if(e&&"string"==typeof e.nodeName)return!this.getNodeURL(e)},getNode:function(e){var t,r=this.resourceSet[e];switch(r.type){case"xpath":t=this.runXPath(r.value);break;case"queryselector":t=this.runQuerySelector(r.value,!1,!0);break;case"resource":this.RTSupport&&(t=this.findResources(r.value))}t||(this.resourceSet[e].found=!1);return t},findChildElements:function(e){var t,r,n,i=[];for(n in o){t=e.getElementsByTagName(o[n]);for(r=0;r<t.length;r++)i.push(t[r])}return i},getNodeURL:function(e){var t;if(!e)return null;switch(e.nodeName){case"IMG":case"IFRAME":case"SCRIPT":case"LINK":case"OBJECT":case"SVG":for(var r=0;r<s.length;r++)if("string"==typeof(t=e[s[r]])&&0<t.length)return t;break;default:return null}},getStartTime:function(e){var t=this.resourceSet[e],e="fetchStart";return e=t.start?t.start:e},updateResourceGroupDelta:function(e,t){var r=this.getStartTime(t);if(e){t=(t=e.responseEnd)||BOOMR.hrNow();"navigationStart"!==r?(!this.resourceTime.start||this.resourceTime.start>e[r])&&(this.resourceTime.start=e[r]):this.resourceTime.start=O.deltaFromNavStart;(!this.resourceTime.stop||this.resourceTime.stop<t)&&(this.resourceTime.stop=t)}},initResourceGroupListener:function(e,t){var r,n=this.resourceSet[t],i=this.getStartTime(t);e._bmr_rg=e._bmr_rg||{};e._bmr_rg[i]=e._bmr_rg[i]||BOOMR.hrNow();if(e._bmr_rg_resource){if(e._bmr_rg_resource&&!e._bmr_rg_resource.hasOwnProperty("length")){r=e._bmr_rg_resource;e._bmr_rg_resource=[]}e._bmr_rg_resource.push(r,n);this.addResourceGroupListener(e,t)}else{e._bmr_rg_resource=n;this.addResourceGroupListener(e,t)}},addResourceGroupListener:function(e,i){var o=this,a=this.resourceSet[i];function t(e){var t=e.target||e.srcElement,r=o.getNodeURL(t),n=o.getStartTime(i);if(r){if(o.RTSupport){e=o.findResources(r);if("resource"===a.type&&o.checkURLPattern(a.value,r)){if(e&&0<e.length){o.resourceSet[i].found=!0;o.refreshResourceGroupTimings(e,i)}}else o.refreshResourceGroupTimings(e,i)}else if("resource"===a.type&&o.checkURLPattern(a.value,r)){t._bmr_rg.responseEnd=t._bmr_rg.responseEnd||BOOMR.hrNow();o.updateResourceGroupDelta(t._bmr_rg,i)}else if(t._bmr_rg&&t._bmr_rg.responseEnd&&t._bmr_rg[n])o.updateResourceGroupDelta(t._bmr_rg,i);else{t._bmr_rg.responseEnd=t._bmr_rg.responseEnd||BOOMR.hrNow();o.updateResourceGroupDelta(t._bmr_rg,i)}o.applyTimedResources()}}e.complete&&this.getNodeURL(e)?t({target:e}):e.addEventListener?e.addEventListener("load",t):e.attachEvent&&e.attachEvent("onload",t)}};BOOMR.utils.runXPath=m.prototype.runXPath;BOOMR.utils.runQuerySelector=m.prototype.runQuerySelector;m.prototype.XPath=m.prototype.URLPatternType;m.prototype.URLQueryParam=m.prototype.URLPattern;O={pageGroups:[],abTests:[],customTimers:[],customMetrics:[],customDimensions:[],autorun:!0,defaultDecimal:".",defaultThousands:",",xhr:undefined,pci:!1,pciBlacklist:[],jsVarPassArgs:!0,spaXhr:undefined,xhrPageGroups:[],resourceGroupHandlers:{},complete:!1,initialized:!1,configReceived:!1,rerunAfterConfig:!1,unloadFired:!1,onloadfired:!1,hasXhrOn:!1,hasXhrIgnore:!1,pciBlacklistQueried:!1,pciBlacklistMatch:[],beaconQueue:[],mayRetry:[],deltaFromNavStart:0,matchPageGroupList:function(e,t,r){for(var n=0,n=0;n<t.length;n++)if(r.handle(t[n],e))return!0;return!1},excludeXhrFilter:function(e){var t=0,r=!1;if(!O.xhr)return!1;(o=h()).pageGroups.varname="xhr.pg";var n=O.hasXhrOn?O.xhrPageGroups:O.pageGroups,i=new m(o.pageGroups);i.method=null;var o=BOOMR.plugins.SPA&&BOOMR.plugins.SPA.isSpaNavInProgress()&&"all"===O.spaXhr;if("none"===O.xhr&&!o)return!0;if("match"===O.xhr&&!o){if(n&&0===n.length)return!1;for(t=0;t<n.length;t++)if(i.handle(n[t],e.href)&&!n[t].ignore){r=!0;break}return r?!1:!0}if(o||BOOMR.utils.inArray(O.xhr,["all","subresource"]))for(t=0;t<n.length;t++)if(n[t].ignore&&i.handle(n[t],e.href))return!0;return!1},done:function(t,e){var r,n,i,o,a,s,u=O,c=!1;if(O.configReceived){i=h();if("xhr"===e||"error"===e||"rerun"===e||!this.complete){BOOMR_check_doc_domain();if("xhr"===e&&t&&!BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){if(null===(u=O.extractXHRParams(t,i)))return;O.complete=!1;if((a=t.data||t).url){(d=f.createElement("a")).href=a.url;if("subresource"===O.xhr){(s=new m(i.pageGroups)).method=null;O.matchPageGroupList(d.href,O.hasXhrOn?O.xhrPageGroups:O.pageGroups,s)||(t.subresource="active")}O.hasXhrOn?u.pageGroups=O.xhrPageGroups:u.pageGroups=O.pageGroups;i.pageGroups.varname="xhr.pg";i.pageGroups.preProcessor=function(e){if(e&&e.match(/_subresource$/)){e=e.replace(/_subresource$/,"");t.subresource="passive"}return e}}}else{d=p.location;"error"!==e&&"early"!==e&&(this.complete=!0)}"error"===e&&(c=!0);O.clearMetrics();O.mayRetry=[];if("xhr"===e&&t&&"spa"===t.initiator&&t.timing&&t.timing.requestStart){s=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;O.deltaFromNavStart=t.timing.requestStart-s}else O.deltaFromNavStart=0;for(n in i)if(i.hasOwnProperty(n)){o=new m(i[n]);if(!c||i[n].isDimension)if("xhr"===e&&"pageGroups"===n&&a&&a.pg&&"string"==typeof a.pg)o.apply(a.pg);else for(r=0;r<u[n].length;r++)if("xhr"===e||!u[n][r].only_xhr){var l="xhr"===e&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?t.initiator:e;if(o.handle(u[n][r],l,a)&&i[n].stopOnFirst){u[n][r].subresource&&"xhr"===e&&t&&(t.subresource="active");break}}}BOOMR.sendBeacon()}}else O.rerunAfterConfig={edata:t,ename:e}},retry:function(){var e,t,r,n=O.mayRetry;O.mayRetry=[];for(e=0;e<n.length;e++)if(n[e]){r=t=null;try{(t=n[e].handler)[(r=n[e].data).type](r)}catch(i){BOOMR.addError(i,"PageVars.retry."+(r?r.type:"?")+"."+(t?t.varname:"?"))}}},initResourceGroupHandlers:function(e){var t,r,n=h();if(n.hasOwnProperty("customTimers"))for(var i=new m(n.customTimers),o=0;o<O.customTimers.length;o++)"ResourceGroup"===O.customTimers[o].type&&(t=O.customTimers[o]).label&&!O.resourceGroupHandlers.hasOwnProperty(t.label)&&(r=i.handle(t,e))&&(O.resourceGroupHandlers[t.label]=r)},removeResolvedResourceGroupHandlers:function(){for(var e in O.resourceGroupHandlers)O.resourceGroupHandlers.hasOwnProperty(e)&&O.resourceGroupHandlers[e].resolved&&delete O.resourceGroupHandlers[e]},clearMetrics:function(){O.pciBlacklistQueried=!1},onload:function(){this.onloadfired=!0},extractXHRParams:function(e,t){var r,n,i,o,a,s,u,c,l,d,f;if(!e)return null;if(!((f=e.data||e).url||f.timers&&f.timers.length||f.metrics&&f.metrics.length||f.dimensions&&f.dimensions.length))return null;r={pageGroups:[],abTests:O.abTests,customTimers:[],customMetrics:[],customDimensions:[]};for(i in n={timers:{impl:"customTimers",data:f.timers},metrics:{impl:"customMetrics",data:f.metrics},dimensions:{impl:"customDimensions",data:f.dimensions}})if(n.hasOwnProperty(i))if((o=n[i]).data&&o.data.length)for(l=0;l<o.data.length;l++){a=(u=o.data[l].split(/\s*=\s*/))[0];s=u[1];for(c=0;c<O[o.impl].length;c++)if(O[o.impl][c].name===a)if(void 0===s)r[o.impl].push(O[o.impl][c]);else{(d=new m(t[o.impl])).varname=O[o.impl].label;d.apply(d.cleanUp(s));d=null}}else if(f.url)for(c=0;c<O[o.impl].length;c++)O[o.impl][c].xhr_ok&&r[o.impl].push(O[o.impl][c]);return r},onunload:function(){O.unloadFired=!0;return this},onBeforeBeacon:function(e){e&&"error"===e["http.initiator"]&&O.done({},"error")},onBeforeEarlyBeacon:function(e){this.complete=!1;this.done({},"early")},prerenderToVisible:function(){this.complete=!1;this.done({},"load")},runPageParamsHandler:function(e,t){var r,n,i,o=h()[e],a=O[e];d=BOOMR.window.location;o.method=t;n=new m(o);for(r=0;r<a.length;r++)if(!a[r].only_xhr&&(i=n.handle(a[r],"custom"))&&o.stopOnFirst)return i},runAllDimensions:function(e){O.runPageParamsHandler("pageGroups",e);O.runPageParamsHandler("abTests",e);O.runPageParamsHandler("customDimensions",e)},sendMetric:function(e,t){if("string"==typeof e&&(void 0===t||"number"==typeof t)){var r={};r[e]=t=void 0===t?1:t;O.sendMetrics(r)}},sendMetrics:function(e){"object"==typeof e&&O.addToBeaconQueue({metrics:e})},sendTimer:function(e,t){if("string"==typeof e&&"number"==typeof t){var r={};r[e]=t;O.sendTimers(r)}},sendTimers:function(e){"object"==typeof e&&O.addToBeaconQueue({timers:e})},sendAll:function(e){"object"==typeof e&&O.addToBeaconQueue(e)},addToBeaconQueue:function(r){r.timestamp||(r.timestamp=BOOMR.now());r.vars||(r.vars={});O.configReceived?O.runAllDimensions(function(e,t){r.vars[e]=t}):r.needsDimensions=!0;O.beaconQueue.push(r);BOOMR.setImmediate(O.processBeaconQueue)},processBeaconQueue:function(e){var t,r,n,i={},o=!1,a=!1;if(0!==O.beaconQueue.length&&O.configReceived){t=O.beaconQueue.shift();i["rt.tstart"]=t.timestamp;i["rt.end"]=t.timestamp;i["http.initiator"]="api_custom_"+(t.timers?"timer":"metric");if(t.metrics)for(n in t.metrics)if(t.metrics.hasOwnProperty(n)){o=!1;for(r=0;r<O.customMetrics.length;r++)if(n===O.customMetrics[r].name){o=a=!0;i[O.customMetrics[r].label]=t.metrics[n];break}o||BOOMR.warn("Custom Metric "+n+" not found")}if(t.timers)for(n in t.timers)if(t.timers.hasOwnProperty(n)){o=!1;for(r=0;r<O.customTimers.length;r++)if(n===O.customTimers[r].name){o=a=!0;i.t_other?i.t_other+=",":i.t_other="";i.t_other+=O.customTimers[r].label+"|"+t.timers[n];break}o||BOOMR.warn("Custom Timer "+n+" not found")}if(a){for(var s in t.vars)t.vars.hasOwnProperty(s)&&(i[s]=t.vars[s]);i.n=++BOOMR.beaconsSent;O.sendBeacon(i);BOOMR.setImmediate(O.processBeaconQueue)}else BOOMR.warn("No data found to send, aborting Custom beacon")}},sendBeacon:function(e){e.d=BOOMR.session.domain;e["h.key"]=BOOMR.getVar("h.key");e["h.d"]=BOOMR.getVar("h.d");e["h.cr"]=BOOMR.getVar("h.cr");e["h.t"]=BOOMR.getVar("h.t");e.pid=BOOMR.pageId;e["rt.start"]="manual";if(BOOMR.session&&!1!==BOOMR.session.ID){e["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);e["rt.ss"]=BOOMR.session.start;e["rt.sl"]=BOOMR.session.length}e.api=1;e["api.v"]=2;e["api.l"]="boomr";e.v=BOOMR.version;BOOMR.fireEvent("before_custom_beacon",e);BOOMR.sendBeaconData(e)}};BOOMR.sendMetric=O.sendMetric;BOOMR.sendMetrics=O.sendMetrics;BOOMR.sendTimer=O.sendTimer;BOOMR.sendTimers=O.sendTimers;BOOMR.sendAll=O.sendAll;BOOMR.plugins.PageParams={init:function(e){var r,t=0,n=[];p=BOOMR.window;d=p.location;f=p.document;a=BOOMR.getPerformance();BOOMR.utils.pluginConfig(O,e,"PageParams",["pageGroups","abTests","customTimers","customMetrics","customDimensions","autorun","defaultDecimal","defaultThousands","xhr","pci","pciBlacklist","jsVarPassArgs","spaXhr"]);O.complete=!1;if("undefined"!=typeof e.PageParams){if(O.pageGroups&&0<O.pageGroups.length)for(t=0;t<O.pageGroups.length;t++)if(O.pageGroups[t]){if(O.pageGroups[t].on&&BOOMR.utils.inArray("xhr",O.pageGroups[t].on)||O.pageGroups[t].ignore){O.xhrPageGroups.push(O.pageGroups[t]);O.hasXhrOn=!0;O.pageGroups[t].ignore&&(O.hasXhrIgnore=!0);if(O.pageGroups[t].on&&1===O.pageGroups[t].on.length||O.pageGroups[t].ignore)continue}BOOMR.plugins.AutoXHR&&"Payload"===O.pageGroups[t].type&&BOOMR.plugins.AutoXHR.setXhrRequestResponseCapturing(!0);n.push(O.pageGroups[t])}O.pageGroups=n}"undefined"!=typeof e.autorun&&(O.autorun=e.autorun);O.pci&&BOOMR.addVar("pci",1);if(O.initialized&&O.configReceived)return this;if(O.initialized){O.configReceived=!0;O.initResourceGroupHandlers("init");for(r=0;r<O.beaconQueue.length;r++)if(O.beaconQueue[r].needsDimensions){O.runAllDimensions(function(e,t){O.beaconQueue[r].vars[e]=t});delete O.beaconQueue[r].needsDimensions}if(O.rerunAfterConfig){O.done(O.rerunAfterConfig.edata,O.rerunAfterConfig.ename);O.rerunAfterConfig=!1;return}}BOOMR.setImmediate(O.processBeaconQueue);if(!O.initialized){if(O.onloadfired)O.autorun&&O.done("load");else{BOOMR.subscribe("page_ready",O.onload,"load",O);BOOMR.subscribe("page_ready",O.done,"load",O);BOOMR.subscribe("prerender_to_visible",O.prerenderToVisible,"load",O);BOOMR.subscribe("spa_init",O.initResourceGroupHandlers);BOOMR.subscribe("xhr_init",O.initResourceGroupHandlers)}BOOMR.subscribe("before_unload",O.onunload,null,O);BOOMR.subscribe("before_unload",O.done,"unload",O);BOOMR.subscribe("beacon",O.clearMetrics,null,O);BOOMR.subscribe("beacon",O.removeResolvedResourceGroupHandlers);BOOMR.subscribe("xhr_load",O.done,"xhr",O);BOOMR.subscribe("before_beacon",O.onBeforeBeacon,null,O);BOOMR.subscribe("before_early_beacon",O.onBeforeEarlyBeacon,null,O);BOOMR.plugins.AutoXHR&&BOOMR.plugins.AutoXHR.addExcludeFilter(O.excludeXhrFilter,O,"BOOMR.plugins.PageParams.PageGroups");O.initialized=!0}return this},is_complete:function(){0<O.mayRetry.length&&O.retry();return O.configReceived||O.unloadFired},readyToSend:function(){return O.configReceived||O.unloadFired},rerun:function(){O.done({},"rerun")}}}}();!function(r){var n,a;if(!BOOMR.plugins.RT){a={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:undefined,responseStart:undefined,loadTime:0,oboError:0,t_start:undefined,cached_t_start:undefined,cached_xhr_start:undefined,t_fb_approx:undefined,r:undefined,beacon_url:undefined,next_beacon_url:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,navigationStartSource:"",updateCookie:function(e,t){var r,n,i;if(!this.cookie)return!1;for(i in n=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{})n.hasOwnProperty(i)&&(isNaN(parseInt(i,10))||delete n[i]);if("object"==typeof e)for(i in e)e.hasOwnProperty(i)&&(e[i]===undefined?n.hasOwnProperty(i)&&delete n[i]:n[i]=e[i]);n.z=1;n.dm=BOOMR.session.domain;n.si=BOOMR.session.ID;n.ss=BOOMR.session.start.toString(36);n.sl=BOOMR.session.length.toString(36);1800!==a.session_exp&&(n.se=a.session_exp.toString(36));BOOMR.session.rate_limited&&(n.rl=1);n.tt=this.loadTime.toString(36);0<this.oboError?n.obo=this.oboError.toString(36):delete n.obo;r=BOOMR.now();if(t){n[t]=(r-BOOMR.session.start).toString(36);a.lastActionTime=r}this.beacon_url&&(n.bcn=this.beacon_url);if(!BOOMR.utils.setCookie(this.cookie,n,this.cookie_exp)){BOOMR.error("cannot set start cookie","rt");return!1}if(50<(t=BOOMR.now())-r){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+t,"rt")}return!0},refreshSession:function(e){if(e=e||BOOMR.plugins.RT.getCookie()){e.ss?BOOMR.session.start=e.ss:BOOMR.session.start=BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;e.si&&e.si.match(/-/)&&(BOOMR.session.ID=e.si);e.sl&&(BOOMR.session.length=e.sl);e.tt&&(this.loadTime=e.tt);e.obo&&(this.oboError=e.obo);e.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=e.dm);e.se&&(a.session_exp=e.se);e.bcn&&(this.beacon_url=e.bcn);e.rl&&"1"===e.rl&&(BOOMR.session.rate_limited=!0)}},maybeResetSession:function(e,t){var r=0;BOOMR.session.start&&BOOMR.session.length&&(r=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var n=1e3*a.session_exp;if(!BOOMR.session.start||t&&BOOMR.session.start>t||e-(a.lastActionTime||BOOMR.t_start)>n||n<r){BOOMR.session.start=t||BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;BOOMR.session.length=0;BOOMR.session.rate_limited=!1;a.loadTime=0;a.oboError=0;a.beacon_url=a.next_beacon_url;a.lastActionTime=e;a.updateCookie({rl:undefined,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:a.loadTime,obo:undefined,bcn:a.beacon_url})}},initFromCookie:function(){var e,t,r=BOOMR.plugins.RT.getCookie();this.cookie||(BOOMR.session.enabled=!1);if(r){r.s=Math.max(+r.ld||0,Math.max(+r.ul||0,+r.cl||0));if(r.s&&(r.r||r.nu)){this.r=r.r;e=BOOMR.utils.hashString(n.URL);t=BOOMR.utils.hashString(n&&n.referrer||"");r.cl;r.nu;if(!this.strict_referrer||r.cl&&r.nu&&r.nu===e&&r.s<+r.cl+15||r.s===+r.ul&&this.r===t){this.t_start=r.s;+r.hd>r.s&&(this.t_fb_approx=r.hd)}else this.t_start=this.t_fb_approx=undefined}r.s&&(this.lastActionTime=r.s);this.refreshSession(r);this.updateCookie({s:undefined,ul:undefined,cl:undefined,hd:undefined,ld:undefined,rl:undefined,r:undefined,nu:undefined,sh:undefined});this.maybeResetSession(BOOMR.now())}},incrementSessionDetails:function(){BOOMR.session.length++;!a.timers.t_done||isNaN(a.timers.t_done.delta)?a.oboError++:a.loadTime+=a.timers.t_done.delta},getBoomerangTimings:function(){var e,t,r,n,i;function o(e,t){e=Math.round(e||0),t=Math.round(t||0);return(e=0===e?0:e-t)||""}if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName){t={"rt.bmr":BOOMR.url};BOOMR.config_url&&(t["rt.cnf"]=BOOMR.config_url);for(r in t)if(t.hasOwnProperty(r)&&t[r]&&(e=window.performance.getEntriesByName(t[r]))&&0!==e.length&&e[0]){i=[n=o((e=e[0]).startTime,0),o(e.responseEnd,n),o(e.responseStart,n),o(e.requestStart,n),o(e.connectEnd,n),o(e.secureConnectionStart,n),o(e.connectStart,n),o(e.domainLookupEnd,n),o(e.domainLookupStart,n),o(e.redirectEnd,n),o(e.redirectStart,n)].join(",").replace(/,+$/,"");BOOMR.addVar(r,i,!0)}}}catch(a){a&&a.name&&a.name.hasOwnProperty("length")&&-1===a.name.indexOf("NS_ERROR_FAILURE")&&BOOMR.addError(a,"rt.getBoomerangTimings")}},checkPreRender:function(){if("prerender"!==BOOMR.visibilityState())return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");return!0},initFromNavTiming:function(){var e,t;if(!this.navigationStart){(t=BOOMR.getPerformance())&&t.navigation&&(this.navigationType=t.navigation.type);if(t&&t.timing){e=t.timing;this.navigationStartSource="navigation"}else if(r.chrome&&r.chrome.csi&&r.chrome.csi().startE){e={navigationStart:r.chrome.csi().startE};this.navigationStartSource="csi"}else if(r.gtbExternal&&r.gtbExternal.startE()){e={navigationStart:r.gtbExternal.startE()};this.navigationStartSource="gtb"}if(e){this.navigationStart=e.navigationStart||e.fetchStart||undefined;this.fetchStart=e.fetchStart||undefined;this.responseStart=e.responseStart||undefined;navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||undefined)}else BOOMR.warn("This browser doesn't support the WebTiming API","rt")}},validateLoadTimestamp:function(e,t,r){return t&&t.timing&&t.timing.loadEventEnd?t.timing.loadEventEnd:"xhr"!==r||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(t=BOOMR.getPerformance())&&t.timing?t.timing.loadEventEnd||e:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e:e},setPageLoadTimers:function(e,t,r){var n,i;if(!("xhr"===e||"early"===e&&r&&BOOMR.utils.inArray(r.initiator,BOOMR.constants.BEACON_TYPE_SPAS))){a.initFromCookie();a.initFromNavTiming();BOOMR.addVar("rt.start",this.navigationStartSource);if(a.checkPreRender())return!1}if("xhr"===e)if(r.timers)for(var o in r.timers)r.timers.hasOwnProperty(o)&&BOOMR.plugins.RT.setTimer(o,r.timers[o]);else r&&r.timing&&(void 0===(i=r.timing.fetchStart)||r.timing.responseEnd>=i)&&(n=r.timing.responseEnd);else a.responseStart?a.responseStart>=a.navigationStart&&a.responseStart>=a.fetchStart&&(n=a.responseStart):a.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):a.t_fb_approx&&(n=a.t_fb_approx);if(n&&"early"!==e){i?BOOMR.plugins.RT.setTimer("t_resp",i,n):BOOMR.plugins.RT.endTimer("t_resp",n);"load"===e&&a.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",a.timers.t_load.end-n):t<n?BOOMR.addVar("t_page.inv",1,!0):t-n==0&&r&&r.timing&&r.timing.requestStart&&a.timers.t_resp&&a.timers.t_resp.delta?BOOMR.plugins.RT.setTimer("t_page",t-r.timing.requestStart-a.timers.t_resp.delta):BOOMR.plugins.RT.setTimer("t_page",t-n)}if("load"===e&&a.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return!0},setSupportingTimestamps:function(e,t){e&&BOOMR.addVar("rt.tstart",e,!0);"number"==typeof a.navigationStart&&a.navigationStart!==e&&BOOMR.addVar("rt.nstart",a.navigationStart,!0);"number"==typeof a.t_start&&a.t_start!==e&&BOOMR.addVar("rt.cstart",a.t_start,!0);BOOMR.addVar("rt.bstart",BOOMR.t_start,!0);BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart,!0);"early"===t?BOOMR.addVar("rt.end",e||BOOMR.now(),!0):a.timers.t_done&&BOOMR.addVar("rt.end",a.timers.t_done.end,!0)},determineTStart:function(e,t){var r;if("xhr"===e||"early"===e&&t&&"spa"===t.initiator){t&&t.name&&a.timers[t.name]?r=a.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(r=t.timing.requestStart);void 0===r&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual");a.cached_xhr_start=r}else{if(a.navigationStart)r=a.navigationStart;else if(a.t_start&&2!==a.navigationType){r=a.t_start;BOOMR.addVar("rt.start","cookie")}else if(a.cached_t_start)r=a.cached_t_start;else{BOOMR.addVar("rt.start","none");r=undefined}a.cached_t_start=r}return r},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(a.visiblefired=!0)},prerenderToVisible:function(){if(a.onloadfired&&a.autorun){BOOMR.addVar("vis.pre","1",!0);BOOMR.plugins.RT.done(null,"visible")}},page_unload:function(e){this.unloadfired||BOOMR.plugins.RT.done(e,"unload");this.updateCookie(!a.navigationStart&&a.strict_referrer?{r:BOOMR.utils.hashString(n.URL)}:null,"beforeunload"===e.type?"ul":"hd");this.unloadfired=!0},_iterable_click:function(e,t,r,n){if(r){for(;r&&r.nodeName&&r.nodeName.toUpperCase()!==t;)r=r.parentNode;if(r&&r.nodeName&&r.nodeName.toUpperCase()===t){this.refreshSession();this.maybeResetSession(BOOMR.now());n=n(r);this.updateCookie({nu:BOOMR.utils.hashString(n)},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(n),!0)}}},onclick:function(e){a._iterable_click("Click","A",e,function(e){return e.href})},markComplete:function(){this.onloadfired&&(a.complete=!0)},onsubmit:function(e){a._iterable_click("Submit","FORM",e,function(e){e="function"==typeof e.getAttribute&&e.getAttribute("action")||n.URL||"";return e.match(/\?/)?e:e+"?"})},onconfig:function(e){e.beacon_url&&(a.beacon_url=e.beacon_url);if(e.RT){e.RT.oboError&&!isNaN(e.RT.oboError)&&e.RT.oboError>a.oboError&&(a.oboError=e.RT.oboError);if(e.RT.loadTime&&!isNaN(e.RT.loadTime)&&e.RT.loadTime>a.loadTime){a.loadTime=e.RT.loadTime;a.timers.t_done&&!isNaN(a.timers.t_done.delta)&&(a.loadTime+=a.timers.t_done.delta)}}},domloaded:function(){BOOMR.plugins.RT&&BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(e){e&&"undefined"!=typeof e.early||BOOMR.removeVar("rt.start")},spaNavigation:function(){a.onloadfired=!0}};BOOMR.plugins.RT={init:function(e){r!==BOOMR.window&&(r=BOOMR.window);e&&e.CrossDomain&&e.CrossDomain.sending&&(a.crossdomain_sending=!0);if(r&&r.document){n=r.document;BOOMR.utils.pluginConfig(a,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]);e&&"undefined"!=typeof e.autorun&&(a.autorun=e.autorun);if(e&&e.beacon_url){a.beacon_url&&!e.force_beacon_url||(a.beacon_url=e.beacon_url);a.next_beacon_url=e.beacon_url}void 0!==n&&(a.r=BOOMR.utils.hashQueryString(n.referrer,!0));a.initFromCookie();if(a.initialized)return this;a.complete=!1;a.timers={};a.check_visibility();BOOMR.subscribe("page_ready",a.page_ready,null,a);BOOMR.subscribe("visibility_changed",a.check_visibility,null,a);BOOMR.subscribe("prerender_to_visible",a.prerenderToVisible,null,a);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("before_early_beacon",this.done,"early",this);BOOMR.subscribe("dom_loaded",a.domloaded,null,a);BOOMR.subscribe("page_unload",a.page_unload,null,a);BOOMR.subscribe("click",a.onclick,null,a);BOOMR.subscribe("form_submit",a.onsubmit,null,a);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.subscribe("beacon",a.clear,null,a);BOOMR.subscribe("error",a.markComplete,null,a);BOOMR.subscribe("config",a.onconfig,null,a);BOOMR.subscribe("spa_navigation",a.spaNavigation,null,a);BOOMR.subscribe("interaction",a.markComplete,null,a);BOOMR.getBeaconURL=function(){return a.beacon_url};a.initialized=!0;return this}},startTimer:function(e,t){if(e){"t_page"===e&&this.endTimer("t_resp",t);a.timers[e]={start:"number"==typeof t?t:BOOMR.now()}}return this},endTimer:function(e,t){if(e){a.timers[e]=a.timers[e]||{};a.timers[e].end===undefined&&(a.timers[e].end="number"==typeof t?t:BOOMR.now())}return this},clearTimer:function(e){e&&delete a.timers[e];return this},setTimer:function(e,t,r){e&&(a.timers[e]=void 0!==r?{start:t,end:r,delta:r-t}:{delta:t});return this},addTimersToBeacon:function(e,t){var r,n,i=[];for(r in a.timers)if(a.timers.hasOwnProperty(r)){if("number"!=typeof(n=a.timers[r]).delta){"number"!=typeof n.start&&(n.start="xhr"===t?a.cached_xhr_start:a.cached_t_start);n.delta=n.end-n.start}isNaN(n.delta)||(a.basic_timers.hasOwnProperty(r)?BOOMR.addVar(r,n.delta,!0):i.push(r+"|"+n.delta))}i.length&&BOOMR.addVar("t_other",i.join(","),!0);if("beacon"===t&&(!e||"undefined"==typeof e.early)){a.timers={};a.complete=!1}},done:function(e,t){if(BOOMR.plugins.RT){var r,n=BOOMR.now(),i=!1;a.complete=!1;r=a.validateLoadTimestamp(n,e,t);if(("load"===t||"visible"===t||"xhr"===t||"early"===t)&&!a.setPageLoadTimers(t,r,e))return this;("load"===t||"visible"===t||"early"===t&&(!e||"undefined"==typeof e.initiator||"spa_hard"===e.initiator)||"xhr"===t&&e&&"spa_hard"===e.initiator)&&a.getBoomerangTimings();n=a.determineTStart(t,e);a.refreshSession();a.maybeResetSession(r,n);"early"!==t&&this.endTimer("t_done",r);e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd);a.setSupportingTimestamps(n,t);this.addTimersToBeacon(null,t);BOOMR.setReferrer(a.r);"xhr"===t&&e&&e&&e.data&&(e=e.data);if("xhr"===t&&e){i=e.subresource;e.url&&BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,"")),!0);e.status&&(e.status<-1||400<=e.status)&&BOOMR.addVar("http.errno",e.status,!0);e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method,!0);e.type&&"xhr"!==e.type&&BOOMR.addVar("http.type",e.type[0],!0);e.headers&&BOOMR.addVar("http.hdr",e.headers,!0);e.synchronous&&BOOMR.addVar("xhr.sync",1,!0);e.initiator&&BOOMR.addVar("http.initiator",e.initiator,!0);e.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1,!0)}i&&"passive"!==i&&BOOMR.addVar("rt.subres",1,!0);if("load"===t||"visible"===t||"xhr"===t&&!i||"unload"===t&&!a.onloadfired&&a.autorun&&!a.crossdomain_sending){a.incrementSessionDetails();a.updateCookie(null,"ld")}BOOMR.addVar({"rt.tt":a.loadTime,"rt.obo":a.oboError},undefined,!0);a.updateCookie();if("unload"===t){BOOMR.addVar("rt.quit","",!0);a.onloadfired||BOOMR.addVar("rt.abld","",!0);a.visiblefired||BOOMR.addVar("rt.ntvu","",!0)}"early"!==t&&(a.complete=!0);BOOMR.sendBeacon(a.beacon_url);return this}},is_complete:function(e){return a.complete||e&&"error"===e["http.initiator"]||e&&"undefined"!=typeof e.early},updateCookie:function(){a.updateCookie()},getCookie:function(){var e,t,r;if(!a.cookie)return!1;if(e=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(a.cookie))||{}){if(1&e.z){t=36;r=parseInt(e.ss||0,36)}else{t=10;r=0}e.ss=parseInt(e.ss||0,t);e.tt=parseInt(e.tt||0,t);e.obo=parseInt(e.obo||0,t);e.sl=parseInt(e.sl||0,t);e.se&&(e.se=parseInt(e.se,t)||1800);e.ld&&(e.ld=r+parseInt(e.ld,t));e.ul&&(e.ul=r+parseInt(e.ul,t));e.cl&&(e.cl=r+parseInt(e.cl,t));e.hd&&(e.hd=r+parseInt(e.hd,t))}return e},incrementSessionDetails:function(){a.incrementSessionDetails()},navigationStart:function(){a.navigationStart||a.initFromNavTiming();return a.navigationStart}}}}(window);!function(){if(!BOOMR.plugins.PaintTiming){var i={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},o={initialized:!1,complete:!1,supported:null,timingCache:{},observer:null,externalMetrics:{},done:function(e,t){var r,n;if(this.complete)return this;if("load"!==t&&(!e||"spa_hard"!==e.initiator)){this.complete=!0;return this}if((e=BOOMR.getPerformance())&&"function"==typeof e.getEntriesByType){if((r=e.getEntriesByType("paint"))&&r.length){BOOMR.info("This user agent supports PaintTiming","pt");for(n=0;n<r.length;n++){o.timingCache[r[n].name]=r[n].startTime;i[r[n].name]&&BOOMR.addVar("pt."+i[r[n].name],Math.floor(r[n].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0},onObserver:function(e){e=e.getEntries();if(0!==e.length){var e=e[e.length-1],t=e.renderTime||e.loadTime;o.timingCache[e.entryType]=t;BOOMR.addVar("pt.lcp",Math.floor(t),!0);o.externalMetrics.lcp=function(){return Math.floor(t)}}}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){o.complete=!0;o.initialized=!0}if(!o.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("pt.hid",1,!0);o.complete=!0}if(!o.initialized){BOOMR.subscribe("page_ready",o.done,"load",o);BOOMR.subscribe("xhr_load",o.done,"xhr",o);BOOMR.subscribe("before_unload",o.done,null,o);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof window.LargestContentfulPaint){o.observer=new BOOMR.window.PerformanceObserver(o.onObserver);o.observer.observe({type:"largest-contentful-paint",buffered:!0})}o.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return o.initialized&&this.is_supported()},is_supported:function(){if(null!==o.supported)return o.supported;var e=BOOMR.getPerformance();o.supported=e&&"undefined"!=typeof window.PerformancePaintTiming&&"function"==typeof e.getEntriesByType;return o.supported},getTimingFor:function(e){var t,r;if(o.timingCache[e])return o.timingCache[e];if(this.is_supported()){var n=BOOMR.getPerformance();if(n&&"function"==typeof n.getEntriesByType&&(t=n.getEntriesByType("paint"))&&t.length)for(r=0;r<t.length;r++)if(t[r].name===e){o.timingCache[e]=t[r].startTime;return o.timingCache[e]}}},metrics:o.externalMetrics}}}();!function(){if(!BOOMR.plugins.NavigationTiming){var c={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(e){var t;if(e&&"spa_hard"===e.initiator)c.done(e);else if(e&&"spa"===e.initiator)c.sendBeacon();else{BOOMR.window;var r,n={};if(e){e.data&&(e=e.data);if((t=BOOMR.getPerformance())&&e.restiming){n={nt_red_st:e.restiming.redirectStart,nt_red_end:e.restiming.redirectEnd,nt_fet_st:e.restiming.fetchStart,nt_dns_st:e.restiming.domainLookupStart,nt_dns_end:e.restiming.domainLookupEnd,nt_con_st:e.restiming.connectStart,nt_con_end:e.restiming.connectEnd,nt_req_st:e.restiming.requestStart,nt_res_st:e.restiming.responseStart,nt_res_end:e.restiming.responseEnd};e.restiming.secureConnectionStart&&(n.nt_ssl_st=e.restiming.secureConnectionStart);for(r in n)if(n.hasOwnProperty(r)&&n[r]){n[r]+=t.timing.navigationStart;n[r]=Math.floor(n[r])}}if(e.timing){e=e.timing;n.nt_req_st||(n.nt_req_st=e.requestStart);n.nt_res_st||(n.nt_res_st=e.responseStart);n.nt_res_end||(n.nt_res_end=e.responseEnd);n.nt_domint=e.domInteractive;n.nt_domcomp=e.domComplete;n.nt_load_st=e.loadEventEnd;n.nt_load_end=e.loadEventEnd}for(r in n)n.hasOwnProperty(r)&&!n[r]&&delete n[r];BOOMR.addVar(n,undefined,!0);c.sendBeacon()}}},done:function(){var e,t,r,n,i,o=BOOMR.window,a={},s=0,u=!1;if(this.complete)return this;if(e=BOOMR.getPerformance()){if("function"==typeof e.getEntriesByType)if((r=e.getEntriesByType("navigation"))&&r.length){BOOMR.info("This user agent supports NavigationTiming2","nt");r=r[0];s=e.timing?e.timing.navigationStart:0}else r=undefined;if(!r&&e.timing){BOOMR.info("This user agent supports NavigationTiming","nt");r=e.timing}if(r){!(a={nt_nav_st:e.timing?e.timing.navigationStart:0,nt_red_st:l(s,r.redirectStart),nt_red_end:l(s,r.redirectEnd),nt_fet_st:l(s,r.fetchStart),nt_dns_st:l(s,r.domainLookupStart),nt_dns_end:l(s,r.domainLookupEnd),nt_con_st:l(s,r.connectStart),nt_con_end:l(s,r.connectEnd),nt_req_st:l(s,r.requestStart),nt_res_st:l(s,r.responseStart),nt_res_end:l(s,r.responseEnd),nt_domloading:l(s,r.domLoading),nt_domint:l(s,r.domInteractive),nt_domcontloaded_st:l(s,r.domContentLoadedEventStart),nt_domcontloaded_end:l(s,r.domContentLoadedEventEnd),nt_domcomp:l(s,r.domComplete),nt_load_st:l(s,r.loadEventStart),nt_load_end:l(s,r.loadEventEnd),nt_unload_st:l(s,r.unloadEventStart),nt_unload_end:l(s,r.unloadEventEnd)}).nt_domloading&&e&&e.timing&&e.timing.domLoading&&(a.nt_domloading=e.timing.domLoading);r.secureConnectionStart&&(a.nt_ssl_st=l(s,r.secureConnectionStart));e.timing&&e.timing.msFirstPaint&&(a.nt_first_paint=e.timing.msFirstPaint);r.workerStart&&(a.nt_worker_start=l(s,r.workerStart));if(r.decodedBodySize||r.transferSize){a.nt_enc_size=r.encodedBodySize;a.nt_dec_size=r.decodedBodySize;a.nt_trn_size=r.transferSize}r.nextHopProtocol&&(a.nt_protocol=r.nextHopProtocol)}if(!a.nt_first_paint&&BOOMR.plugins.PaintTiming){u=BOOMR.plugins.PaintTiming.is_supported();(n=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(a.nt_first_paint=l(s,n))}if((!a.nt_protocol||!a.nt_first_paint)&&(!r||""!==r.nextHopProtocol)&&!u&&o.chrome&&"function"==typeof o.chrome.loadTimes&&(t=o.chrome.loadTimes())){a.nt_spdy=t.wasFetchedViaSpdy?1:0;a.nt_cinf=t.connectionInfo;"number"==typeof t.firstPaintTime&&0!==t.firstPaintTime&&(a.nt_first_paint=Math.round(1e3*t.firstPaintTime))}if(e.navigation){e=e.navigation;a.nt_red_cnt=e.redirectCount;a.nt_nav_type=e.type}for(i in a)a.hasOwnProperty(i)&&a[i]===undefined&&delete a[i];BOOMR.addVar(a,undefined,!0);r&&(r.requestStart&&r.navigationStart&&r.requestStart<r.navigationStart||r.responseStart&&r.navigationStart&&r.responseStart<r.navigationStart||r.responseStart&&r.fetchStart&&r.responseStart<r.fetchStart||r.navigationStart&&r.fetchStart<r.navigationStart||r.responseEnd&&r.responseEnd>BOOMR.now()+864e5)&&BOOMR.addVar("nt_bad",1,!0);0<a.nt_load_end&&(this.fullySent=!0)}c.sendBeacon()},clear:function(e){this.complete=!(e&&e.early)&&this.fullySent},prerenderToVisible:function(){this.complete=!1;this.done()},onBeforeEarlyBeacon:function(e){e&&"undefined"!=typeof e.initiator&&"spa_hard"!==e.initiator||this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!c.initialized){BOOMR.subscribe("page_ready",c.done,null,c);BOOMR.subscribe("prerender_to_visible",c.prerenderToVisible,null,c);BOOMR.subscribe("before_early_beacon",c.onBeforeEarlyBeacon,null,c);BOOMR.subscribe("xhr_load",c.xhr_done,null,c);BOOMR.subscribe("before_unload",c.done,null,c);BOOMR.subscribe("beacon",c.clear,null,c);c.initialized=!0}return this},is_complete:function(){return!0}}}function l(e,t){return"number"!=typeof t||0===t?undefined:Math.floor((e||0)+t)}}();!function(){if(!BOOMR.plugins.ResourceTiming){var g={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a",body:"b",input:"c",frame:"a",object:"d",video:"e",audio:"f",source:"g",track:"h",embed:"i",eventsource:"j",navigation:6},E={prefetch:1,preload:2,prerender:3,stylesheet:4},x=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"],R="\n",B="*",_="0",v="1",M="2",k=1,P=2,C=4,b="3",y="4",S="5",w="6",L={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(e){e&&e.restiming&&i(e.restiming);if(!this.complete){this.complete=!0;BOOMR.sendBeacon()}},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,splitAtPath:!1,getSrcsetDimensions:!1,trackedResourceTypes:"*",done:function(){if(!this.sentNavBeacon){e();this.complete=!0;this.sentNavBeacon=!0;BOOMR.sendBeacon()}},onBeacon:function(e){var t=BOOMR.getPerformance();if(L.clearOnBeacon&&t){var r=t.clearResourceTimings||t.webkitClearResourceTimings;r&&"function"==typeof r&&r.call(t)}},prerenderToVisible:function(){this.sentNavBeacon=!1;this.done()}};BOOMR.plugins.ResourceTiming={init:function(e){BOOMR.utils.pluginConfig(L,e,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings","splitAtPath","getSrcsetDimensions"]);if(L.initialized)return this;if(this.is_supported()){BOOMR.subscribe("page_ready",L.done,null,L);BOOMR.subscribe("prerender_to_visible",L.prerenderToVisible,null,L);BOOMR.subscribe("xhr_load",L.xhr_load,null,L);BOOMR.subscribe("beacon",L.onBeacon,null,L);BOOMR.subscribe("before_unload",L.done,null,L);if(L.monitorClearResourceTimings){var t=this;BOOMR.window.performance.clearResourceTimings=(r=BOOMR.window.performance.clearResourceTimings,function(){t.addResources(BOOMR.window.performance.getEntriesByType("resource"));r.apply(BOOMR.window.performance,arguments)})}}else L.complete=!0;var r;L.initialized=!0;return this},is_complete:function(){return!0},is_enabled:function(){return L.initialized&&this.is_supported()},is_supported:function(){if(null!==L.supported)return L.supported;var e=BOOMR.getPerformance();L.supported=e&&"function"==typeof e.getEntriesByType&&"undefined"!=typeof window.PerformanceResourceTiming;return L.supported},addResources:function(e,t){if(this.is_supported()&&BOOMR.utils.isArray(e)){L.collectedEntries=L.collectedEntries||[];if("number"==typeof t){var n=t-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);e=BOOMR.utils.arrayFilter(e,function(e){for(var t=0;t<x.length;t++){var r=x[t];e.hasOwnProperty(r)&&(e[r]+=n)}return!0})}Array.prototype.push.apply(L.collectedEntries,e)}},getCompressedResourceTiming:n,getFilteredResourceTiming:F,calculateResourceTimingUnion:function c(e){if(!e||!e.length)return 0;e.sort(function(e,t){return e.fetchStart!==t.fetchStart?e.fetchStart-t.fetchStart:(e.responseStart||e.responseEnd)-(t.responseStart||t.responseEnd)});for(var t=u(e),r=[],n=0,i=0;i<t.length;i++){var o=t[i];o.fetchStart<n&&(o.fetchStart=n);if(o.fetchStart<o.responseEnd){r.push(o);n=o.responseEnd}}var a=u(r),s=0;for(i=0;i<a.length;i++)s+=a[i].responseEnd-a[i].fetchStart;return s},addResourceTimingToBeacon:e,addToBeacon:i}}function T(e,t){var r,n,i,o,a,s,u,c,l={};for(r in e){n=r;for(i=0;i<L.xssBreakWords.length;i++)n=n.replace(L.xssBreakWords[i],"$1"+R+"$2");if(e.hasOwnProperty(r)){o=e[r];a=t?[(a=n.split("/"))[0]+"//",a[2]+(3<a.length?"/":"")].concat(a.slice(3).reduce(function d(o){return function(e,t,r){var n,i;if(-1!==t.indexOf(R)){n=t.split(R);for(i=0;i<n.length-1;i++){e.push(n[i]);e.push(R)}t=n.slice(-1)}"number"==typeof o&&r<o&&(t+="/");return e.concat(t)}}(a.length-4),[])):n.split("");u=l;for(i=0;i<a.length;i++)void 0===(c=u[s=a[i]])?u=u[s]=i===a.length-1?o:{}:"string"==typeof c?u=u[s]={"|":c}:i===a.length-1?u[s]["|"]=o:u=u[s]}}return l}function N(e,t){"number"!=typeof e&&(e=0);"number"!=typeof t&&(t=0);e=Math.round(e||0),t=Math.round(t||0);return 0===e?0:e-t}function A(e){try{e.location&&e.location.href;e.document;if("performance"in e&&e.performance)return 1}catch(t){}}function V(e){var t=0;return t=A(e)&&e.performance.timing&&e.performance.timing.navigationStart?e.performance.timing.navigationStart:t}function I(e,t,r,n,i){var o,a,s,u,c,l,d,f,p,O,m=[],h={},g={};void 0===t&&(t=!0);void 0===r&&(r=0);if(10<(n=void 0===n?0:n))return m;try{if(!A(e))return m;s=V(e);p=function S(e,t){var u,c,l={},d=e.document,f=d.createElement("A");u=(t=t||[0,0,0,0])[3]+(e.pageXOffset!==undefined)?e.pageXOffset:(d.documentElement||d.body.parentNode||d.body).scrollLeft;c=t[2]+(e.pageYOffset!==undefined)?e.pageYOffset:(d.documentElement||d.body.parentNode||d.body).scrollTop;["img","iframe","image"].forEach(function(e){for(var t,r,n,i,o,a=d.getElementsByTagName(e),s=0;s<a.length;s++)if(o=a[s]){r=o.currentSrc||o.src||"function"==typeof o.getAttribute&&o.getAttribute("src")||o.getAttribute("xlink:href");f.href=r;r=f.href;if(r&&!l[r]&&((t=o.getBoundingClientRect()).height||o.offsetHeight)&&(t.width||o.offsetWidth)){l[r]=[t.height||o.offsetHeight,t.width||o.offsetWidth,Math.round(t.top+c),Math.round(t.left+u)];if(o.naturalHeight||o.naturalWidth){L.getSrcsetDimensions&&o.currentSrc&&(o.srcset||o.parentNode&&o.parentNode.nodeName&&"PICTURE"===o.parentNode.nodeName.toUpperCase())?(n=o.isConnected?o.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=r:n=o;i=n.naturalHeight||o.naturalHeight;o=n.naturalWidth||o.naturalWidth;!i&&!o||l[r][0]===i&&l[r][1]===o||l[r].push(i,o)}}}});return l}(e,i);U(O=e.document.createElement("a"),h,"script");U(O,g,"link");if((l=e.document.getElementsByTagName("iframe"))&&l.length)for(o=0;o<l.length;o++){u=V(l[o].contentWindow);c=0;s<u&&(c=r+(u-s));O.href=l[o].src;m=m.concat(I(l[o].contentWindow,!1,c,n+1,p[O.href]))}if("function"!=typeof e.performance.getEntriesByType)return m;function R(e){return L.serverTiming&&e.serverTiming||[]}if(t)if((a=e.performance.getEntriesByType("navigation"))&&1===a.length){d=a[0];m.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:d.redirectStart,redirectEnd:d.redirectEnd,fetchStart:d.fetchStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,connectStart:d.connectStart,secureConnectionStart:d.secureConnectionStart,connectEnd:d.connectEnd,requestStart:d.requestStart,responseStart:d.responseStart,responseEnd:d.responseEnd,workerStart:d.workerStart,encodedBodySize:d.encodedBodySize,decodedBodySize:d.decodedBodySize,transferSize:d.transferSize,serverTiming:R(d)})}else e.performance.timing&&0!==(f=e.performance.timing).navigationStart&&f.responseEnd<=f.navigationStart+36e5&&m.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:f.redirectStart?f.redirectStart-f.navigationStart:0,redirectEnd:f.redirectEnd?f.redirectEnd-f.navigationStart:0,fetchStart:f.fetchStart?f.fetchStart-f.navigationStart:0,domainLookupStart:f.domainLookupStart?f.domainLookupStart-f.navigationStart:0,domainLookupEnd:f.domainLookupEnd?f.domainLookupEnd-f.navigationStart:0,connectStart:f.connectStart?f.connectStart-f.navigationStart:0,secureConnectionStart:f.secureConnectionStart?f.secureConnectionStart-f.navigationStart:0,connectEnd:f.connectEnd?f.connectEnd-f.navigationStart:0,requestStart:f.requestStart?f.requestStart-f.navigationStart:0,responseStart:f.responseStart?f.responseStart-f.navigationStart:0,responseEnd:f.responseEnd?f.responseEnd-f.navigationStart:0});var B=e.performance.getEntriesByType("resource"),_=[];if(e===BOOMR.window&&L.collectedEntries){Array.prototype.push.apply(B,L.collectedEntries);L.collectedEntries=[]}for(o=0;B&&o<B.length;o++){for(var v={name:(f=B[o]).name,initiatorType:f.initiatorType,encodedBodySize:f.encodedBodySize,decodedBodySize:f.decodedBodySize,transferSize:f.transferSize,serverTiming:R(f),visibleDimensions:p[f.name],latestTime:function w(e){if(e.responseEnd)return e.responseEnd;if(e.responseStart&&e.startTime)return e.responseStart+.2*(e.responseStart-e.startTime);return Infinity}(f)},M=0;M<x.length;M++){var b=x[M];v[b]="startTime"===b||f[b]?f[b]+r:0}f.hasOwnProperty("_data")&&(v._data=f._data);if(("script"===f.initiatorType||"link"===f.initiatorType)&&h[f.name]){var y=h[f.name];v.scriptAttrs=(y["async"]?k:0)|(y.defer?P:0);for(;1===y.nodeType&&"BODY"!==y.nodeName;)y=y.parentNode;v.scriptAttrs|="BODY"===y.nodeName?C:0}"link"===f.initiatorType&&g[f.name]&&BOOMR.utils.arrayFind(g[f.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(e){e=e.toLowerCase();if(E[e]){v.linkAttrs=E[e];return!0}});_.push(v)}m=m.concat(_)}catch(T){return m}return m}function U(t,r,e){Array.prototype.forEach.call(t.ownerDocument.getElementsByTagName(e),function(e){t.href=e.currentSrc||e.src||"function"==typeof e.getAttribute&&e.getAttribute("xlink:href")||e.href;t.href.match(/^https?:\/\//)&&(r[t.href]=e)})}function G(e){return"number"==typeof e&&0!==e?e.toString(36):"string"==typeof e?e:""}function F(e,t,r){var n,i=I(BOOMR.window,!0,0,0),o=V(BOOMR.window),a={};if(!i||!i.length)return{entries:[]};i.sort(function(e,t){return e.startTime-t.startTime});for(var s=[],u=0;u<i.length;u++){n=i[u];if("string"==typeof n.name&&((0===n.name.indexOf("http:")||0===n.name.indexOf("https:"))&&!("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&-1<n.name.indexOf(BOOMR.getBeaconURL())||e&&o+n.startTime<e))){if(t&&o+n.startTime>t)break;if(void 0===r||"*"===r||!r.length||n.initiatorType&&BOOMR.utils.inArray(n.initiatorType,r)){!function l(r,e){(e||[]).forEach(function(e){var t=e.name||e.metric;"undefined"==typeof r[t]&&(r[t]={count:0,counts:{}});t=r[t];t.counts[e.description]=t.counts[e.description]||0;t.counts[e.description]++;t.count++})}(a,n.serverTiming);s.push(n)}}}var c=function d(n){return Object.keys(n).sort(function(e,t){return n[t].count-n[e].count}).reduce(function(e,r){var t=Object.keys(n[r].counts).sort(function(e,t){return n[r].counts[t]-n[r].counts[e]});e.push(1===t.length&&""===t[0]?r:[r].concat(t));return e},[])}(a);return{entries:s,serverTiming:{lookup:c,indexed:function f(e){return e.reduce(function(e,t,r){var n,i;if(Array.isArray(t)){n=t[0];i=t.slice(1).reduce(function(e,t,r){e[t]=r;return e},{})}else{n=t;i={"":0}}e[n]={index:r,descriptions:i};return e},{})}(c)}}}function n(e,t){var r,n={},i={},t=F(e,t,L.trackedResourceTypes),o=t.entries,a=t.serverTiming;if(!o||!o.length)return{restiming:{},servertiming:[]};for(r=0;r<o.length;r++){var s=o[r],u=(c=void 0===(c=g[s.initiatorType])?0:c)+[N(s.startTime,0),N(s.responseEnd,s.startTime),N(s.responseStart,s.startTime),N(s.requestStart,s.startTime),N(s.connectEnd,s.startTime),N(s.secureConnectionStart,s.startTime),N(s.connectStart,s.startTime),N(s.domainLookupEnd,s.startTime),N(s.domainLookupStart,s.startTime),N(s.redirectEnd,s.startTime),N(s.redirectStart,s.startTime)].map(G).join(",").replace(/,+$/,""),c=function p(e){var t,r;if(e.encodedBodySize||e.decodedBodySize||e.transferSize){t=e.transferSize;return[r=e.encodedBodySize,t?t-r:"_",(e=e.decodedBodySize)?e-r:0].map(G).join(",").replace(/,+$/,"")}return""}(s);""!==c&&(u+=B+v+c);s.hasOwnProperty("scriptAttrs")&&(u+=B+M+s.scriptAttrs);s.serverTiming&&s.serverTiming.length&&(u+=B+b+s.serverTiming.reduce(function(e,t,r){var n=String("undefined"!=typeof t.duration?t.duration:t.value);"0."===n.substring(0,2)&&(n=n.substring(1));var i=t.name||t.metric;return e+=(0<r?",":"")+n+function o(e,t){var r="";e&&(r+=e);t&&(r+="."+t);r.length&&(r=":"+r);return r}(a.indexed[i].index,a.indexed[i].descriptions[t.description])},""));s.hasOwnProperty("linkAttrs")&&(u+=B+y+s.linkAttrs);if(s.workerStart&&"number"==typeof s.workerStart&&0!==s.workerStart){var l=N(function O(e){"number"!=typeof e&&(e=0);return Math.ceil(e||0)}(s.workerStart),s.startTime);u+=B+w+G(l)}l=function m(e,t){var r,n,i;if(e&&t)for(r=0;r<t.length;r++)if("string"==typeof(i=t[r])){if(-1!==(n=e.indexOf(i))){e=e.substr(0,n+i.length)+"...";break}}else i instanceof RegExp&&i.test(e)&&(e=e.replace(i,"$1")+"...");return BOOMR.utils.cleanupURL(e,L.urlLimit)}(s.name,L.trimUrls);if(s.hasOwnProperty("_data")){var d,f="";for(d in s._data)s._data.hasOwnProperty(d)&&(f+=B+S+d+":"+s._data[d]);"undefined"==typeof n[l]?n[l]=u+f:n[l]+=f}else n[l]!==undefined?n[l]+="|"+u:s.visibleDimensions?n[l]=B+_+s.visibleDimensions.map(Math.round).map(G).join(",").replace(/,+$/,"")+"|"+u:n[l]=u;if(s.visibleDimensions){i[s.latestTime]||(i[s.latestTime]=[]);i[s.latestTime].push(s.visibleDimensions)}}return{restiming:function h(e,t){var r,n,i=0,o=[];for(r in e)e.hasOwnProperty(r)&&o.push(r);for(var a=0;a<o.length;a++){r=o[a];if("object"==typeof e[r]&&(n=h(e[r],!1))){delete e[r];if(r===R){r=n.name;i++}else r+=n.name;e[r]=n.value}i++}if(1!==i)return!!t&&e;if(t){(t={})[r]=e[r];return t}return{name:r,value:e[r]}}(T(n,L.splitAtPath),!0),servertiming:a.lookup}}function u(e){var t=[];if(!e||!e.length)return t;for(var r=0;r<e.length;r++){var n=e[r];r!==e.length-1&&n.fetchStart===e[r+1].fetchStart||t.push({fetchStart:n.fetchStart,responseEnd:n.responseStart||n.responseEnd})}return t}function e(e,t){var r;if("undefined"!=typeof JSON&&(r=n(e,t))){BOOMR.info("Client supports Resource Timing API","restiming");i(r)}}function i(e){BOOMR.addVar("restiming",JSON.stringify(e.restiming),!0);e.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(e.servertiming),!0)}}();!function(){var t,r={type:"ct",bandwidth:"bw",metered:"mt",effectiveType:"etype",downlinkMax:"lm",downlink:"dl",rtt:"rtt",saveData:"sd"};if("function"==typeof BOOMR.addVar&&(t="object"==typeof navigator?navigator.connection||navigator.mozConnection||navigator.webkitConnection||navigator.msConnection:t)){t.addEventListener&&t.addEventListener("change",function(){e();BOOMR.fireEvent("netinfo",t)});e()}function e(){for(var e in r)if("undefined"!=typeof t[e]){BOOMR.removeVar("mob."+r[e]);t[e]&&BOOMR.addVar("mob."+r[e],t[e])}}}();!function(){var i,u,o,a,s,c,l,d={};if(!BOOMR.plugins.Memory){var f=!1,p={done:function(){if(i){BOOMR.removeVar("dom.res");t(!0,function(){var e,t,r={};if(d&&"function"==typeof d.getEntriesByType&&(e=d.getEntriesByType("resource"))&&e.length){BOOMR.addVar("dom.res",e.length);t=BOOMR.window.document.createElement("a");[].forEach.call(e,function(e){t.href=e.name;r[t.hostname]=!0});BOOMR.addVar("dom.doms",Object.keys(r).length)}},"resources");o&&BOOMR.addVar({"mem.total":o.totalJSHeapSize,"mem.limit":o.jsHeapSizeLimit,"mem.used":o.usedJSHeapSize});t(c&&l,function(){BOOMR.addVar({"mem.lsln":c.length,"mem.ssln":l.length});window.JSON&&"function"==typeof JSON.stringify&&BOOMR.addVar({"mem.lssz":JSON.stringify(c).length,"mem.sssz":JSON.stringify(l).length})},"localStorage");t(a,function(){BOOMR.addVar({"scr.xy":a.width+"x"+a.height,"scr.bpp":a.colorDepth+"/"+(a.pixelDepth||"")});a.orientation&&BOOMR.addVar("scr.orn",a.orientation.angle+"/"+a.orientation.type);1<i.devicePixelRatio&&BOOMR.addVar("scr.dpx",i.devicePixelRatio);var e=BOOMR.utils.scroll();(e.x||e.y)&&BOOMR.addVar("scr.sxy",e.x+"x"+e.y)},"screen");t(s,function(){s.hardwareConcurrency&&BOOMR.addVar("cpu.cnc",s.hardwareConcurrency);s.maxTouchPoints&&BOOMR.addVar("scr.mtp",s.maxTouchPoints);s.connection&&s.connection.hasOwnProperty("saveData")&&BOOMR.addVar("net.sd",s.connection.saveData?1:0)},"navigator");t(!0,function(){var t;BOOMR.addVar({"dom.ln":e("*"),"dom.sz":u.documentElement.innerHTML.length,"dom.ck":u.cookie.length});t={};BOOMR.addVar(e("img",["dom.img","dom.img.ext","dom.img.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|data:|#)/)},function(e){return!(t[e.currentSrc||e.src]=t.hasOwnProperty(e.currentSrc||e.src))}));t={};BOOMR.addVar(e("script",["dom.script","dom.script.ext","dom.script.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.src]=t.hasOwnProperty(e.src))}));t={};BOOMR.addVar(e("iframe",["dom.iframe","dom.iframe.ext","dom.iframe.uniq"],function(e){return e.src&&!e.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.src]=t.hasOwnProperty(e.src))}));t={};BOOMR.addVar(e("link",["dom.link","dom.link.css","dom.link.css.uniq"],function(e){return e.rel&&"stylesheet"===e.rel.toLowerCase()&&e.href&&!e.href.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(e){return!(t[e.href]=t.hasOwnProperty(e.href))}))},"dom")}}};BOOMR.plugins.Memory={init:function(){var e;try{i=BOOMR.window;u=i.document;d=BOOMR.getPerformance();e=i.console;a=i.screen;s=i.navigator;try{c=i.localStorage;l=i.sessionStorage}catch(r){}if(s&&s.battery)s.battery;else if(s&&"function"==typeof s.getBattery){var t=s.getBattery();t&&"function"==typeof t.then?t.then(function(e){0}):"object"==typeof t&&t.hasOwnProperty("level")&&0}}catch(n){BOOMR.addError(n,"Memory.init")}o=d&&d.memory?d.memory:e&&e.memory?e.memory:null;if(p.initialized)return this;p.initialized=!0;BOOMR.subscribe("before_beacon",p.done,null,p);return this},is_complete:function(){return!0}}}function e(e,t){var r,n,i,o,a;try{n=(r=u.getElementsByTagName(e)).length;if(t&&t.length){(i={})[t[0]]=n;for(o=2;0<n&&o<arguments.length&&o-1<t.length;o++)if("function"==typeof(a=arguments[o]))try{if((r=BOOMR.utils.arrayFilter(r,a)).length!==n){n=r.length;i[t[o-1]]=n}}catch(s){if(!f){f=!0;BOOMR.addError(s,"Memory.nodeList."+e+".filter["+(o-2)+"]")}}}return i||n}catch(s){BOOMR.addError(s,"Memory.nodeList."+e);return 0}}function t(e,t,r){if(e)try{t()}catch(n){BOOMR.addError(n,"Memory.done."+r)}}}();!function(){BOOMR.utils=BOOMR.utils||{};if(!BOOMR.utils||!BOOMR.utils.Compression){var a=BOOMR.utils.Compression={};a.jsUrl=function s(e){function t(e){return/[^\w-.]/.test(e)?e=e.replace(/[^\w-.]/g,function(e){return"$"===e?"!":(e=e.charCodeAt(0))<256?"*"+("00"+e.toString(16)).slice(-2):"**"+("0000"+e.toString(16)).slice(-4)}):e}var r=[];switch(typeof e){case"number":return isFinite(e)?"~"+e:"~null";case"string":return"~'"+t(e);case"boolean":return"~"+e;case"object":if(!e)return"~null";if(BOOMR.utils.isArray(e)){for(var n=0;n<e.length;n++)n in e&&(r[n]=a.jsUrl(e[n])||"~null");return"~("+(r.join("")||"~")+")"}for(var i in e)if(e.hasOwnProperty(i)){var o=a.jsUrl(e[i]);o&&r.push(t(i)+o)}return"~("+r.sort().join("~")+")";default:return undefined}}}}();!function(){function n(e,t,r){var n=e.shift();if("string"==typeof n){var i=n.split("."),o=BOOMR,a=BOOMR;"BOOMR"===i[0]&&i.shift();for(;i.length&&o&&("object"==typeof o||"function"==typeof o);){var s=i.shift(),o=o[s];i.length&&(a=a[s])}if(!i.length&&"function"==typeof o){e=o.apply(a,e);"function"==typeof t&&t.call(r,e)}}}function e(e){for(var t=0;t<e.length;t++){var r=e[t];r&&(BOOMR.utils.isArray(r)?n(r):"object"==typeof r&&BOOMR.utils.isArray(r.arguments)&&n(r.arguments,r.callback,r.thisArg))}}var t=BOOMR.window.BOOMR_mq;BOOMR.utils.isArray(t)&&e(t);BOOMR.window.BOOMR_mq={push:function(){e(arguments)}}}();!function(){if(!BOOMR.plugins.Akamai){var a={initialized:!1,dns_prefetch_enabled:undefined,mapping_xhr_base_url:undefined,mapping_xhr_url_path:undefined,mapping_xhr_url_v4_prefix:undefined,mapping_xhr_url_v6_prefix:undefined,xhrRetryMarker:"akamaiXhrRetry",regEx:undefined,complete:!1,done:function(e,t){if(!this.complete){if(a.dns_prefetch_enabled&&BOOMR.plugins.AK&&BOOMR.plugins.AK.akDNSPreFetchDomain){var r=document.createElement("link");r.setAttribute("id","dnsprefetchlink");r.setAttribute("rel","dns-prefetch");r.setAttribute("href","//"+BOOMR.plugins.AK.akDNSPreFetchDomain);document.getElementsByTagName("head")[0].appendChild(r)}if(window.XMLHttpRequest&&!BOOMR.utils.getLocalStorage(a.xhrRetryMarker)&&a.mapping_xhr_base_url&&a.mapping_xhr_url_path&&(a.mapping_xhr_url_v4_prefix||a.mapping_xhr_url_v6_prefix)){if(a.mapping_xhr_url_v4_prefix){var n="https://"+a.mapping_xhr_url_v4_prefix+"."+a.mapping_xhr_base_url+a.mapping_xhr_url_path+"?c=p"+BOOMR.pageId,i=new XMLHttpRequest;i.open("GET",n,!0);setTimeout(function(){i.send()},200)}if(a.mapping_xhr_url_v6_prefix){var n="https://"+a.mapping_xhr_url_v6_prefix+"."+a.mapping_xhr_base_url+a.mapping_xhr_url_path+"?c=p"+BOOMR.pageId,o=new XMLHttpRequest;o.open("GET",n,!0);setTimeout(function(){o.send()},200)}BOOMR.utils.setLocalStorage(a.xhrRetryMarker,{},1800)}else BOOMR.utils.getLocalStorage(a.xhrRetryMarker);this.complete=!0}}};BOOMR.plugins.Akamai={init:function(e){BOOMR.utils.pluginConfig(a,e,"Akamai",["dns_prefetch_enabled","mapping_xhr_base_url","mapping_xhr_url_path","mapping_xhr_url_v4_prefix","mapping_xhr_url_v6_prefix"]);if(!a.regEx&&a.mapping_xhr_base_url&&a.mapping_xhr_url_path&&(a.mapping_xhr_url_v4_prefix||a.mapping_xhr_url_v6_prefix)&&BOOMR.plugins.AutoXHR){e=a.mapping_xhr_url_v4_prefix&&a.mapping_xhr_url_v6_prefix?"("+a.mapping_xhr_url_v4_prefix+"|"+a.mapping_xhr_url_v6_prefix+")":a.mapping_xhr_url_v4_prefix||a.mapping_xhr_url_v6_prefix;try{a.regEx=new RegExp("^https://"+e+"."+a.mapping_xhr_base_url+a.mapping_xhr_url_path);a.regEx&&BOOMR.plugins.AutoXHR.addExcludeFilter(function(e){return a.regEx.test(e.href)},a,"BOOMR.plugins.Akamai.exlude.mapping.endpoint")}catch(t){}}if(a.initialized)return this;BOOMR.subscribe("page_ready",a.done,"load",a);BOOMR.subscribe("xhr_load",a.done,"xhr",a);a.initialized=!0;return this},is_complete:function(){return!0}}}}();!function(){if(!BOOMR.plugins.EventTiming){var r={click:0,dblclick:1,mousedown:2,mouseup:3,mousemove:4,touchstart:5,touchend:6,touchmove:7,keydown:8,keyup:9,keypress:10,wheel:11,pointerdown:12,pointerup:13,pointermove:14,compositionstart:17,compositionupdate:18,compositionend:19,contextmenu:20},n={initialized:!1,supported:null,observerEvent:null,observerFirstInput:null,entries:[],firstInputDelay:null,timeToFirstInteraction:null,onBeforeBeacon:function(){if(n.entries&&n.entries.length){for(var e=[],t=0;t<n.entries.length;t++)e.push({n:r[n.entries[t].name]||n.entries[t].name,s:Math.round(n.entries[t].startTime).toString(36),d:Math.round(n.entries[t].duration).toString(36),p:Math.round(n.entries[t].processingEnd-n.entries[t].processingStart).toString(36),c:n.entries[t].cancelable?1:0,fi:"first-input"===n.entries[t].entryType?1:undefined});BOOMR.addVar("et.e",BOOMR.utils.serializeForUrl(e),!0)}n.entries=[];if(null!==n.firstInputDelay){BOOMR.addVar("et.fid",Math.ceil(n.firstInputDelay),!0);n.firstInputDelay=null}},onEventTiming:function(e){n.entries=n.entries.concat(e.getEntries())},onFirstInput:function(e){e=e.getEntries();n.entries=n.entries.concat(e);n.firstInputDelay=e[0].processingStart-e[0].startTime;n.timeToFirstInteraction=e[0].startTime}};BOOMR.plugins.EventTiming={init:function(){this.is_supported()||(n.initialized=!0);if(!n.initialized){BOOMR.subscribe("before_beacon",n.onBeforeBeacon,null,n);try{var e=BOOMR.window;n.observerEvent=new e.PerformanceObserver(n.onEventTiming);n.observerEvent.observe({type:["event"],buffered:!0});n.observerFirstInput=new e.PerformanceObserver(n.onFirstInput);n.observerFirstInput.observe({type:["first-input"],buffered:!0})}catch(t){n.supported=!1}n.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return n.initialized&&this.is_supported()},is_supported:function(){if(null!==n.supported)return n.supported;var e=BOOMR.window,t=BOOMR.getPerformance();n.supported=t&&"undefined"!=typeof e.PerformanceEventTiming&&"function"==typeof e.PerformanceObserver;n.supported&&BOOMR.info("This user agent supports EventTiming","et");return n.supported},stop:function(){if(n.observerEvent){n.observerEvent.disconnect();n.observerEvent=null}if(n.observerFirstInput){n.observerFirstInput.disconnect();n.observerFirstInput=null}},metrics:{count:function(){return n.entries.length},averageDuration:function(){if(0===n.entries.length)return 0;for(var e=0,t=0;t<n.entries.length;t++)e+=n.entries[t].duration;return e/n.entries.length},firstInputDelay:function(){return n.firstInputDelay},timeToFirstInteraction:function(){return n.timeToFirstInteraction}}}}}();!function(a){var s,u=document,c=a.location.hostname,l=!1,r=!1,n=!0,i=!1,e=a.BOOMR_LOGN_always,d=a.BOOMR_CONFIG_RELOAD_TIMEOUT||33e4,f=a.BOOMR_CONFIG_STORE_TIMEOUT||480,o=!1;if(!BOOMR.plugins.LOGN&&!1!==e&&(void 0!==e||c&&"localhost"!==c&&!c.match(/\.\d+$/)&&!c.match(/^mhtml/)&&!c.match(/^file:\//))){var p={storeConfig:!1};BOOMR.plugins.LOGN={init:function(e){var t;BOOMR.utils.pluginConfig(p,e,"LOGN",["storeConfig"]);if(l||BOOMR.session.rate_limited)return this;if(e){if(e.rate_limited){BOOMR.session.rate_limited=!0;return this}"undefined"!=typeof e.autorun&&(n=e.autorun)}if(r){BOOMR.fireEvent("config",e);o=!0;BOOMR.setImmediate(O);if(s){BOOMR.addVar("t_configjs",BOOMR.now()-s);if("number"==typeof BOOMR_configt){BOOMR.addVar("t_configfb",BOOMR_configt-s);delete BOOMR_configt}}return this}a&&a.BOOMR_API_key?t=a.BOOMR_API_key:u&&BOOMR.url&&-1!==BOOMR.url.lastIndexOf("/")&&(t=BOOMR.url.substr(BOOMR.url.lastIndexOf("/")+1));if(t){BOOMR.addVar("h.key",t);if(!i&&BOOMR.plugins&&BOOMR.plugins.AutoXHR&&"function"==typeof BOOMR.plugins.AutoXHR.addExcludeFilter){BOOMR.plugins.AutoXHR.addExcludeFilter(function(e){return!!(e&&e.href&&-1<e.href.indexOf(this))},t,"ConfigXHRRequestFilter");i=!0}BOOMR.setVarPriority("h.d",-1);BOOMR.setVarPriority("h.key",-1);BOOMR.setVarPriority("h.t",-1);BOOMR.setVarPriority("h.cr",1);BOOMR.subscribe("beacon",R,null,null);r=!0;BOOMR.setImmediate(g);return this}BOOMR.error("API key could not be detected from script URL or BOOMR_API_key, exiting")},is_complete:function(){return o},readyToSend:function(){return BOOMR.hasVar("h.cr")},isJson:!0}}function O(){if(!l){r=!(l=!0);(n||BOOMR.onloadFired()&&"prerender"!==BOOMR.visibilityState())&&BOOMR.sendBeacon()}}function m(e){if(e.session_id){BOOMR.session.ID=e.session_id;delete e.session_id}for(var t=["h.key","h.d","h.t","h.cr"],r=0;r<t.length;r++)if(e[t[r]]){BOOMR.addVar(t[r],e[t[r]]);delete e[t[r]]}BOOMR.init(e);return!0}function h(e,t){a.BOOMR_configt=BOOMR.now();var r,n=function o(e){var t=function(){throw new Exception("No JSON.parse available")};window.JSON&&"function"==typeof JSON.parse?t=JSON.parse:BOOMR.window&&(BOOMR.window.JSON&&"function"==typeof BOOMR.window.JSON.parse?t=BOOMR.window.JSON.parse:"function"==typeof BOOMR.window.json_parse&&(t=BOOMR.window.json_parse));try{return t(e)}catch(r){}return null}(e);if(n){r=t&&BOOMR.utils.getLocalStorage("LOGN")||{};for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);(p.storeConfig||n.LOGN&&n.LOGN.storeConfig)&&BOOMR.utils.setLocalStorage("LOGN",r,f);t||setTimeout(g,d);return m(n)}}function g(){var e,n,t,r=u.createElement("A"),i=BOOMR.getBeaconURL?BOOMR.getBeaconURL():"",o=[];if(!l){t=BOOMR.utils.getLocalStorage("LOGN");if(t&&m(t)){BOOMR.addVar("t_configls",Math.round(BOOMR.hrNow()));BOOMR.setImmediate(O)}}for(e in BOOMR.plugins)BOOMR.plugins.hasOwnProperty(e)&&o.push(encodeURIComponent(e));s=BOOMR.now();n="https://c.go-mpulse.net/api/config.json";n+="?key="+BOOMR.getVar("h.key")+"&d="+encodeURIComponent(c)+"&t="+Math.round(s/3e5)+"&v="+BOOMR.version+(a===window?"":"&if=")+"&sl="+(0<BOOMR.session.length?1:0)+"&si="+BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36)+(l?"&r=":"")+(i?"&bcn="+encodeURIComponent(i):"")+(l?"":"&plugins="+o.join(","));n+="&acao=";if(BOOMR.plugins.AK&&BOOMR.plugins.AK.akVars){i=BOOMR.plugins.AK.akVars["ak.ai"];isNaN(i)||!BOOMR.utils.isInteger(i)&&isNaN(parseInt(i,10))||(n+="&ak.ai="+i)}r.href=n;BOOMR.config_url=r.href;!function(e){if(window.XDomainRequest){0===n.indexOf("https:")&&"http:"===window.location.protocol&&(n=n.replace("https://","http://"));var t=new XDomainRequest;t.open("GET",n);t.onload=function(){h(t.responseText,e)};t.send()}else{var r=new XMLHttpRequest;r.open("GET",n,!0);r.onreadystatechange=function(){4===r.readyState&&200===r.status&&h(r.responseText,e)};r.send(null)}}(l);l&&setTimeout(function(){g()},d)}function R(e){if(!e||!("undefined"!=typeof e.early||e["http.initiator"]&&0===e["http.initiator"].indexOf("api_custom_"))){BOOMR.removeVar("t_configjs");BOOMR.removeVar("t_configfb");BOOMR.removeVar("t_configls")}}}(BOOMR.window);BOOMR.init({primary:!0,log:null,wait:!0,site_domain:null,ResourceTiming:{enabled:!1},Angular:{enabled:!1},Ember:{enabled:!1},Backbone:{enabled:!1},History:{enabled:!1},Errors:{enabled:!1},TPAnalytics:{enabled:!1},UserTiming:{enabled:!1},Continuity:{enabled:!1},IFrameDelay:{enabled:!1},Early:{enabled:!1}});BOOMR.t_end=(new Date).getTime();
